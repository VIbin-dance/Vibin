/*!
 * Amazon Interactive Video Service (IVS) Player for Web v1.2.0
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * License at https://player.live-video.net/LICENSE.txt
 */
var IVSPlayer=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=30)}([function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.INITIALIZED="PlayerInitialized",e.QUALITY_CHANGED="PlayerQualityChanged",e.DURATION_CHANGED="PlayerDurationChanged",e.VOLUME_CHANGED="PlayerVolumeChanged",e.MUTED_CHANGED="PlayerMutedChanged",e.PLAYBACK_RATE_CHANGED="PlayerPlaybackRateChanged",e.REBUFFERING="PlayerRebuffering",e.AUDIO_BLOCKED="PlayerAudioBlocked",e.PLAYBACK_BLOCKED="PlayerPlaybackBlocked",e.ERROR="PlayerError",e.RECOVERABLE_ERROR="PlayerRecoverableError",e.ANALYTICS_EVENT="PlayerAnalyticsEvent",e.TIME_UPDATE="PlayerTimeUpdate",e.BUFFER_UPDATE="PlayerBufferUpdate",e.SEEK_COMPLETED="PlayerSeekCompleted",e.SESSION_DATA="PlayerSessionData",e.WORKER_ERROR="PlayerWorkerError",e.METADATA="PlayerMetadata",e.TEXT_CUE="PlayerTextCue",e.TEXT_METADATA_CUE="PlayerTextMetadataCue",e.AD_CUE="PlayerAdCue",e.NETWORK_UNAVAILABLE="PlayerNetworkUnavailable"}(i||(i={}))},function(e,t,n){e.exports=n(32)},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.IDLE="Idle",e.READY="Ready",e.BUFFERING="Buffering",e.PLAYING="Playing",e.ENDED="Ended"}(i||(i={}))},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i,r,o=n(27),s=/^(\d+)\.(\d+)\.(\d+)[+|-]?(.*)?$/,a=/^(\d+)\.(\d+)[+|-]?(.*)?$/,u=/^(\d+)$/,c="undefined"!=typeof window&&"undefined"!=typeof navigator,d=o.getParser(c?navigator.userAgent:""),h=(i=String(d.getBrowserVersion()),r=s.exec(i)||a.exec(i)||u.exec(i)||[],{major:parseInt(r[1],10)||0,minor:parseInt(r[2],10)||0,patch:parseInt(r[3],10)||0}),l=d.getEngine(),f={chrome:d.some(["chrome"]),chromecast:c&&navigator.userAgent.toLowerCase().indexOf("crkey")>-1,domain:c?window.location.host.split(".").slice(-2).join("."):"",family:d.getBrowserName().toLowerCase(),firefox:d.some(["firefox"]),host:c?window.location.host:"",major:h.major,minor:h.minor,msEdgeLegacy:d.some(["microsoft edge"])&&"Blink"!==l.name,msEdgeChromium:d.some(["microsoft edge"])&&"Blink"===l.name,msIE:d.some(["internet explorer"]),name:c?navigator.appVersion:"",opera:d.some(["opera"]),osName:d.getOSName(),osVersion:String(d.getOSVersion()),patch:h.patch,safari:d.some(["safari"]),url:c?window.location.href:"",userAgent:c?navigator.userAgent:"",mobile:!(!d.some(["mobile"])&&!d.some(["tablet"])),supportsDataChannels:!!c&&"RTCPeerConnection"in window,supportsQuicTransport:!!c&&"QuicTransport"in window}},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.AVAILABLE="RemotePlayerAvailable",e.UNAVAILABLE="RemotePlayerUnavailable",e.SESSION_STARTED="RemotePlayerSessionStarted",e.SESSION_ENDED="RemotePlayerSessionEnded"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"d",(function(){return Ee})),n.d(t,"b",(function(){return Se})),n.d(t,"f",(function(){return be})),n.d(t,"e",(function(){return ke})),n.d(t,"c",(function(){return Me})),n.d(t,"a",(function(){return Pe}));var i=n(0),r=n.n(i),o=n(5),s=n(1),a=null,u=null;function c(e){var t=e.type===s.a.ANALYTICS_EVENT,n=e.arg&&"video_error"===e.arg.name;if(t&&n){if(!a&&!u){var i=document.createElement("canvas");try{var r=i.getContext("webgl")||i.getContext("experimental-webgl");if("getExtension"in r){var o=r.getExtension("WEBGL_debug_renderer_info");"getParameter"in r&&(a=r.getParameter(o.UNMASKED_RENDERER_WEBGL),u=r.getParameter(o.UNMASKED_VENDOR_WEBGL))}}catch(e){}}e.arg.properties.gl_renderer=a,e.arg.properties.gl_vendor=u}return e}var d=function(){function e(){var t=this;r()(this,"batteryManager",void 0),this.processor=this.processor.bind(this),e.isSupported()&&window.navigator.getBattery().then((function(e){t.batteryManager=e}))}return e.isSupported=function(){return window&&window.navigator&&!!window.navigator.getBattery},e.prototype.processor=function(e){var t=e.type===s.a.ANALYTICS_EVENT,n=e.arg&&"minute-watched"===e.arg.name;return t&&n&&this.batteryManager&&(e.arg.properties.battery_percent=this.batteryManager.level),e},e}(),h=n(10),l={keySystem:"org.w3.clearkey",uuid:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b"},f={keySystem:"com.apple.fps.2_0",certUrl:"https://fp-keyos-twitch.licensekeyserver.com/cert/a17fd33d3843df9b17679ccf50a419b2.der",licenseUrl:"https://fp-keyos-twitch.licensekeyserver.com/getkey",uuid:"94CE86FB-07FF-4F43-ADB8-93D2FA968CA2"},p={keySystem:"com.microsoft.playready",licenseUrl:"https://pr-keyos-twitch.licensekeyserver.com/core/rightsmanager.asmx",uuid:"9a04f079-9840-4286-ab92-e65be0885f95"},m={keySystem:"com.widevine.alpha",licenseUrl:"https://wv-keyos-twitch.licensekeyserver.com",uuid:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"},v={CLEARKEY:l,FAIRPLAY:f,PLAYREADY:p,WIDEVINE:m},g={"com.widevine.alpha":m,"com.microsoft.playready":p,"com.apple.fps.2_0":f,"org.w3.clearkey":l},y={NO_CDM_SUPPORT:{value:4,message:"Your browser does not support any DRM Content Decryption Modules"},SESSION_UPDATE:{value:4,message:"There was an issue while updating DRM License"},LICENSE_REQUEST:{value:2,message:"Error while requesting DRM license"},KEY_SESSION_CREATION:{value:4,message:"Error creating key session"},KEY_SESSION_INTERNAL:{value:4,message:"Encryption key not usable because of internal error in CDM"},NO_PSSH_FOUND:{value:4,message:"Unable to find valid CDM support on media"},AUTH_XML_REQUEST:{value:2,message:"Request for AuthXML failed"},CERT_REQUEST:{value:2,message:"Request for DRM certificate failed"}};function E(e,t){if((e=S(e))===(t=S(t)))return!0;if(e.byteLength!==t.byteLength)return!1;for(var n=new DataView(e),i=new DataView(t),r=0;r<n.byteLength;r++)if(n.getUint8(r)!==i.getUint8(r))return!1;return!0}function S(e){return e instanceof Uint8Array||e instanceof Uint16Array?e.buffer:e}function b(e){return function(e){var t=[];return e.forEach((function(e){Object.keys(v).forEach((function(n){var i=v[n];i.uuid===e&&t.push(i)}))})),t}(function(e){if(null===e)return[];var t=new DataView(e.buffer||e),n=[],i=0;for(;;){var r,o,s,a=void 0;if(i>=t.buffer.byteLength)break;if(r=t.getUint32(i),o=i+r,i+=4,t.getUint32(i)===T("pssh"))if(i+=4,0===(s=t.getUint8(i))||1===s){i++,i+=3,a="";for(var u=0;u<4;u++)a+=A(t.getUint8(i+u));i+=4,a+="-";for(var c=0;c<2;c++)a+=A(t.getUint8(i+c));i+=2,a+="-";for(var d=0;d<2;d++)a+=A(t.getUint8(i+d));i+=2,a+="-";for(var h=0;h<2;h++)a+=A(t.getUint8(i+h));i+=2,a+="-";for(var l=0;l<6;l++)a+=A(t.getUint8(i+l));i+=6,a=a.toLowerCase();t.getUint32(i);i+=4,n.push(a),i=o}else i=o;else i=o}return n}(e))}function k(e,t){return new Promise((function(n,i){var r=new XMLHttpRequest;for(var o in r.open(t.method,e,!0),t.headers)t.headers.hasOwnProperty(o)&&r.setRequestHeader(o,t.headers[o]);r.responseType=t.responseType,r.onload=function(){200===r.status&&n(r.response)},r.onloadend=function(){i(r.status)},r.send(t.body)}))}function M(e){var t=P(w(JSON.parse(String.fromCharCode.apply(null,e)).sinf[0]),"schi");return function(e){var t="",n=e,i=Array.isArray(n),r=0;for(n=i?n:n[Symbol.iterator]();;){var o;if(i){if(r>=n.length)break;o=n[r++]}else{if((r=n.next()).done)break;o=r.value}t+=A(o)}return t}(P(t,"tenc").subarray(8,24))}function P(e,t){for(var n=new DataView(e.buffer,e.byteOffset,e.byteLength),i=T(t),r=0;r<e.byteLength;){var o=n.getUint32(r);if(n.getUint32(r+4)===i)return e.subarray(r+8,r+o);r+=o}return new Uint8Array(e)}function T(e){return(e.charCodeAt(0)<<24)+(e.charCodeAt(1)<<16)+(e.charCodeAt(2)<<8)+e.charCodeAt(3)}function A(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function w(e){for(var t=atob(e),n=t.length,i=new Uint8Array(n),r=0;r<n;r++)i[r]=t.charCodeAt(r);return i}function _(e){return decodeURIComponent(e.replace(/\+/g," "))}var C=n(8),L=n(6),R=n(3),O=n(15),D=n(2),N=n.n(D);function I(e){var t=null;if(e.getElementsByTagName("Challenge").length>0&&e.getElementsByTagName("Challenge")[0]){var n=e.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;n&&(t=atob(n))}return t}function V(e){for(var t={},n=e.getElementsByTagName("name"),i=e.getElementsByTagName("value"),r=0;r<n.length;r++)t[n[r].childNodes[0].nodeValue]=i[r].childNodes[0].nodeValue;return t}function x(e){var t=String.fromCharCode.apply(null,new Uint16Array(e)),n=(new DOMParser).parseFromString(t,"application/xml");return{headers:V(n),body:I(n)}}var F=[{initDataTypes:["cenc"],audioCapabilities:[{contentType:'audio/mp4;codecs="mp4a.40.2"'}],videoCapabilities:[{robustness:"SW_SECURE_CRYPTO",contentType:'video/mp4;codecs="avc1.42E01E"'}]}],U=function(){function e(e){var t=this;r()(this,"video",void 0),r()(this,"listener",void 0),r()(this,"cdmSupport",void 0),r()(this,"selectedCDM",void 0),r()(this,"mediaKeys",void 0),r()(this,"pendingSessions",void 0),r()(this,"sessions",void 0),r()(this,"authXml",void 0),this.video=e.video,this.listener=e.listener,this.cdmSupport=null,this.selectedCDM=null,this.mediaKeys=void 0,this.pendingSessions=[],this.reset(),this.video.addEventListener("encrypted",(function(e){return t.handleEncrypted(e)})),this.video.addEventListener("webkitneedkey",(function(e){return t.handleWebKitEncrypted(e)}))}var t=e.prototype;return t.configure=function(e){var t=this;if(!this.authXml){var n=new URL(e).pathname.split("/"),i=n[n.length-1].split(".")[0],r=function(e){var t=new URL(e).searchParams,n={};return t.forEach((function(e,t){n[_(t)]=e?_(e):""})),n}(e),o=r.token,s=r.sig,a="https://usher.ttvnw.net/api/authxml/"+i+"?token="+encodeURIComponent(o)+"&sig="+s;this.authXml=k(a,{method:"GET",responseType:"text"}).catch((function(e){t.handleError(Object.assign({code:e},y.AUTH_XML_REQUEST))}))}},t.reset=function(){this.authXml=null,this.sessions=[]},t.isProtected=function(){return null!==this.authXml},t.handleError=function(e){this.listener.onSinkError({value:e.value||4,code:e.code||0,message:e.message||""})},t.hasSession=function(e){var t=this.sessions,n=Array.isArray(t),i=0;for(t=n?t:t[Symbol.iterator]();;){var r;if(n){if(i>=t.length)break;r=t[i++]}else{if((i=t.next()).done)break;r=i.value}var o=r;if(o.initData&&E(o.initData,e))return!0}return!1},t.createKeySystemSupportChain=function(){if(null===this.cdmSupport||0===this.cdmSupport.length)return Promise.reject(y.NO_PSSH_FOUND);var e=Promise.reject();return this.cdmSupport.forEach((function(t){e=e.catch((function(){return navigator.requestMediaKeySystemAccess(t.keySystem,F)}))})),e=e.catch((function(){return Promise.reject(y.NO_CDM_SUPPORT)}))},t.handleEncrypted=function(e){var t,n;return N.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.hasSession(e.initData)){i.next=2;break}return i.abrupt("return");case 2:if(this.sessions.push(e),"sinf"!==e.initDataType){i.next=6;break}return this.handleWebKitEncrypted(e),i.abrupt("return");case 6:if(null===this.cdmSupport&&(this.cdmSupport=b(e.initData)),void 0!==this.mediaKeys){i.next=24;break}return this.mediaKeys=null,i.prev=9,i.next=12,N.a.awrap(this.createKeySystemSupportChain());case 12:return t=i.sent,this.selectedCDM=g[t.keySystem],i.next=16,N.a.awrap(t.createMediaKeys());case 16:return n=i.sent,i.next=19,N.a.awrap(this.setMediaKeys(n));case 19:i.next=24;break;case 21:i.prev=21,i.t0=i.catch(9),this.handleError(i.t0);case 24:this.addSession(e);case 25:case"end":return i.stop()}}),null,this,[[9,21]])},t.setMediaKeys=function(e){var t=this;return this.mediaKeys=e,this.pendingSessions.forEach((function(e){return t.createSessionRequest(e)})),this.pendingSessions=[],this.video.setMediaKeys(this.mediaKeys)},t.addSession=function(e){var t=this;this.mediaKeys?this.createSessionRequest(e).catch((function(){t.handleError(y.KEY_SESSION_CREATION)})):this.pendingSessions.push(e)},t.createSessionRequest=function(e){var t=this,n=e.initDataType,i=e.initData,r=this.mediaKeys.createSession();return r.addEventListener("message",(function(e){return t.handleMessage(e)})),r.addEventListener("keystatuseschange",(function(e){return t.handleKeyStatusesChange(e,i)})),r.generateRequest(n,i)},t.handleKeyStatusesChange=function(e,t){var n=this,i=e.target,r=!1;i.keyStatuses.forEach((function(e){switch(e){case"expired":r=!0;break;case"internal-error":n.handleError(y.KEY_SESSION_INTERNAL)}})),r&&i.close().then((function(){return n.removeSession(t)}))},t.removeSession=function(e){for(var t=0;t<this.sessions.length;t++){if(this.sessions[t].initData===e)return void this.sessions.splice(t,1)}},t.handleMessage=function(e){var t,n,i=this;return N.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.target,r.next=3,N.a.awrap(this.generateLicense(e.message));case 3:n=r.sent,t.update(n).catch((function(){i.handleError(y.SESSION_UPDATE)}));case 5:case"end":return r.stop()}}),null,this)},t.generateLicense=function(e){var t,n,i,r;return N.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(this.selectedCDM!==v.CLEARKEY){o.next=7;break}return t=JSON.parse((new TextDecoder).decode(e)),n=t.kids.map((function(e){return{kty:"oct",alg:"A128KW",kid:e,k:e}})),i=(new TextEncoder).encode(JSON.stringify({keys:n})),o.abrupt("return",Promise.resolve(i));case 7:if(!this.authXml){o.next=14;break}return o.next=10,N.a.awrap(this.authXml);case 10:return r=o.sent,o.abrupt("return",this.requestLicense(e,r));case 14:this.handleError(y.AUTH_XML_REQUEST);case 15:case"end":return o.stop()}}),null,this)},t.requestLicense=function(e,t){var n,i,r=this;return N.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n={method:"POST",responseType:"arraybuffer",body:e,headers:{customdata:t,"Content-Type":"application/octet-stream"}},this.selectedCDM===v.PLAYREADY&&(i=x(e),n.body=i.body,n.headers=Object.assign(n.headers,i.headers)),o.abrupt("return",k(this.selectedCDM.licenseUrl,n).catch((function(){r.handleError(Object.assign({code:status},y.LICENSE_REQUEST))})));case 3:case"end":return o.stop()}}),null,this)},t.handleWebKitEncrypted=function(e){var t,n=this;return N.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return this.selectedCDM=v.FAIRPLAY,i.prev=1,i.next=4,N.a.awrap(k(v.FAIRPLAY.certUrl,{method:"GET",responseType:"arraybuffer",headers:{Pragma:"Cache-Control: no-cache","Cache-Control":"max-age=0"}}));case 4:t=i.sent,this.setupWebKitMediaKeys(e,t).catch((function(e){return n.handleError(e)})),i.next=11;break;case 8:i.prev=8,i.t0=i.catch(1),this.handleError(Object.assign({code:i.t0},y.CERT_REQUEST));case 11:case"end":return i.stop()}}),null,this,[[1,8]])},t.setupWebKitMediaKeys=function(e,t){var n=this;this.video.webkitKeys||this.video.webkitSetMediaKeys(new window.WebKitMediaKeys(v.FAIRPLAY.keySystem));var i=M(e.initData),r=this.video.webkitKeys.createSession("video/mp4",e.initData);return r.contentId=i,new Promise((function(e,o){if(n.video.webkitKeys||o("Issue setting fairplay media keys"),!r)return o("Could not create key session");r.addEventListener("webkitkeymessage",(function(e){var r=e.target;"certificate"===String.fromCharCode.apply(null,e.message)?r.update(new Uint8Array(t)):n.getWebkitLicense(e.message,i).then((function(e){var t=e.trim();"<ckc>"===t.substr(0,5)&&"</ckc>"===t.substr(-6)&&(t=t.slice(5,-6)),r.update(w(t))})).catch(o)})),r.addEventListener("webkitkeyadded",e),r.addEventListener("webkitkeyerror",o)}))},t.getWebkitLicense=function(e,t){return this.authXml?this.authXml.then((function(n){var i;return k(v.FAIRPLAY.licenseUrl,{method:"POST",body:"spc="+(i=e,btoa(String.fromCharCode.apply(null,new Uint16Array(i))))+"&assetId="+t,responseType:"text",headers:{"Content-Type":"application/x-www-form-urlencoded",customdata:n}}).catch((function(e){return Promise.reject(Object.assign({code:e},y.LICENSE_REQUEST))}))})):Promise.reject(y.AUTH_XML_REQUEST)},e}();function B(e){return"number"==typeof e.webkitDecodedFrameCount?e.webkitDecodedFrameCount:"function"==typeof e.getVideoPlaybackQuality?e.getVideoPlaybackQuality().totalVideoFrames:"number"==typeof e.mozDecodedFrames?e.mozDecodedFrames:-1}function H(e){return"number"==typeof e.webkitDroppedFrameCount?e.webkitDroppedFrameCount:"function"==typeof e.getVideoPlaybackQuality?e.getVideoPlaybackQuality().droppedVideoFrames:-1}function G(e,t){for(var n=e.buffered,i=e.currentTime,r=0;r<n.length;r++){var o=n.start(r),s=n.end(r);if(!(s<=i)){if(o-t>i)break;for(var a=r+1;a<n.length&&!(n.start(a)-s>t);a++)s=n.end(a);for(var u=r-1;u>=0&&!(o-n.end(u)>t);u--)o=n.start(u);return{start:Math.min(o,i),end:s}}}return{start:i,end:i}}function j(e,t){void 0===t&&(t=.1);var n=G(e,t).end-e.currentTime>t,i=e.buffered;if(i.length>1||!n)for(var r=e.currentTime,o=0;o<i.length;o++){var s=i.start(o),a=i.end(o);if(r<s&&a-s>t)return s+t}return n?e.currentTime+t:e.currentTime}function W(e,t,n){return e.addEventListener(t,n),function(){e.removeEventListener(t,n)}}var Q=function(){function e(e,t){r()(this,"muted",void 0),r()(this,"video",void 0),r()(this,"listener",void 0),r()(this,"unsubscribes",[]),r()(this,"expectingMutedChanged",!1),r()(this,"expectingVolumeChanged",!1),this.video=e,this.listener=t,this.muted=e.muted,this.unsubscribes.push(W(e,"volumechange",this.volumeChange.bind(this))),this.unsubscribes.push(W(e,"ratechange",this.rateChange.bind(this)))}var t=e.prototype;return t.volumeChange=function(){var e=!this.expectingVolumeChanged;this.expectingMutedChanged=!1,this.expectingVolumeChanged=!1;var t=this.video.muted;this.muted!==t?(this.muted=t,this.listener.onSinkMutedChanged(t)):this.listener.onSinkVolumeChanged(this.video.volume,e)},t.rateChange=function(){this.listener.onSinkPlaybackRateChanged(this.video.playbackRate)},t.unsubscribe=function(){this.unsubscribes.forEach((function(e){return e()}))},t.onConfigure=function(){this.expectingVolumeChanged&&(this.listener.onSinkVolumeChanged(this.video.volume,!1),this.expectingVolumeChanged=!1),this.expectingMutedChanged&&(this.muted=this.video.muted,this.listener.onSinkMutedChanged(this.video.muted),this.expectingMutedChanged=!1)},t.trackRPC=function(e,t){"setVolume"===e&&this.video.volume!==t?this.expectingVolumeChanged=!0:"setMuted"===e&&this.video.muted!==t&&(this.expectingMutedChanged=!0)},e}(),K=n(4),z=n.n(K),q=n(14),Y=n.n(q),J=n(9),X=function(){function e(e,t){r()(this,"paused",!0),r()(this,"listener",void 0),r()(this,"video",void 0),r()(this,"unsubscribers",void 0),r()(this,"lastVolumeChangeEvent",void 0),this.video=e,this.listener=t,this.paused=!0,this.unsubscribers=[],this.addListener("volumechange",this.recordMuteChange.bind(this)),this.recordMuteChange()}var t=e.prototype;return t.pause=function(){this.paused=!0,this.video.pause()},t.setPlaybackRate=function(e){this.video.playbackRate=Math.round(1e3*e)/1e3},t.delete=function(){this.unsubscribers.forEach((function(e){return e()}))},t.addListener=function(e,t,n){void 0===n&&(n=this.video),this.unsubscribers.push(W(n,e,t))},t.recordMuteChange=function(){this.lastVolumeChangeEvent={time:this.video.currentTime,muted:this.video.muted}},t.checkStopped=function(e){return!this.video.paused||this.video.ended||this.video.error||this.paused||this.listener.onSinkStop(e||this.unmuteAutopause()),!1},t.unmuteAutopause=function(){var e=this.lastVolumeChangeEvent;return!this.video.muted&&!e.muted&&this.video.currentTime===e.time},e}(),Z=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,r()(z()(i),"intervalId",void 0),r()(z()(i),"idle",void 0),r()(z()(i),"ended",void 0),r()(z()(i),"lastPlayhead",void 0),r()(z()(i),"lastBufferEnd",void 0),r()(z()(i),"fps",void 0),r()(z()(i),"lastDecodedFrames",void 0),r()(z()(i),"lastTimeUpdate",void 0),r()(z()(i),"idleTimeout",void 0),r()(z()(i),"playAttempt",!1),r()(z()(i),"seeking",!1),i.intervalId=0,i.idle=!0,i.ended=!1,i.lastPlayhead=0,i.lastBufferEnd=0,i.fps=0,i.lastDecodedFrames=0,i.lastTimeUpdate=performance.now(),i.idleTimeout=-1,i.addListener("play",(function(){return i.onVideoPlay()})),i.addListener("pause",(function(){return i.onVideoPause()})),i.addListener("timeupdate",(function(){return i.onVideoTimeUpdate()})),i.addListener("ended",(function(){return i.onVideoEnded()})),i.addListener("error",(function(){return i.onVideoError()})),i.addListener("playing",(function(){return i.onVideoPlaying()})),i.addListener("seeking",(function(){return i.onVideoSeeking()})),i}Y()(t,e);var n=t.prototype;return n.delete=function(){e.prototype.delete.call(this),clearInterval(this.intervalId)},n.play=function(){this.paused=!1;for(var e=this.video.buffered,t=0,n=0;n<e.length;n++){var i=e.start(n);if(this.video.currentTime<i){t=i;break}}this.video.currentTime<t&&(console.warn("Moving to buffered region",t,this.video.currentTime),this.seekTo(t)),this.playInternal()},n.endOfStream=function(){this.ended=!0,this.idle=!1,clearTimeout(this.idleTimeout),this.idleTimeout=-1},n.framerate=function(){return this.fps},n.seekTo=function(e){this.video.seekable.length&&e!==this.video.currentTime&&(this.seeking=!0,this.video.currentTime=e)},n.onVideoPlay=function(){var e=this;this.playAttempt?(this.lastPlayhead=this.video.currentTime,clearInterval(this.intervalId),this.intervalId=self.setInterval((function(){return e.heartbeat()}),2e3)):(this.pause(),this.listener.play()),this.playAttempt=!1},n.onVideoPause=function(){this.checkStopped(!1),clearInterval(this.intervalId)},n.onVideoTimeUpdate=function(){if(this.video.paused&&this.idleTimeout>-1&&!this.ended)console.warn("Rogue timeupdate event on video paused and sink idle");else{clearTimeout(this.idleTimeout),this.idleTimeout=-1;var e=B(this.video),t=performance.now();this.fps=1e3*Math.max(e-this.lastDecodedFrames,0)/(t-this.lastTimeUpdate),this.lastDecodedFrames=e,this.lastTimeUpdate=t,this.listener.onSinkTimeUpdate();var n=G(this.video,.1);this.checkBufferUpdate(n),this.updateIdle(n)}},n.onVideoEnded=function(){this.listener.onSinkEnded()},n.onVideoPlaying=function(){this.video.paused||this.listener.onSinkPlaying(this.paused)},n.onVideoSeeking=function(){this.seeking?this.seeking=!1:this.listener.seekTo(this.video.currentTime)},n.onVideoError=function(){var e=this.video.error,t=e.code,n=e.message,i=void 0===n?"":n;this.listener.onSinkError({value:t,code:t,message:i})},n.heartbeat=function(){var e=G(this.video,.1);if(this.video.paused)clearInterval(this.intervalId);else if(this.video.currentTime===this.lastPlayhead){var t=j(this.video,.1);t!==this.video.currentTime&&(console.warn("jumping "+(t-this.video.currentTime)+"s gap"),this.seekTo(t)),this.updateIdle(e)}else this.checkBufferUpdate(e),this.lastPlayhead=this.video.currentTime;this.videoDisplaySizeUpdate()},n.videoDisplaySizeUpdate=function(){var e=this.video.clientWidth*window.devicePixelRatio,t=this.video.clientHeight*window.devicePixelRatio;this.listener.onSinkVideoDisplaySizeChanged(e,t)},n.checkBufferUpdate=function(e){var t=e.end;t!==this.lastBufferEnd&&(this.lastBufferEnd=t,this.listener.onSinkBufferUpdate())},n.updateIdle=function(e){var t=this,n=(e.start,e.end);if(this.video.paused)this.idle=!0;else{var i=n-this.video.currentTime<.1;i&&!this.idle&&(this.idleTimeout=self.setTimeout((function(){return t.onBufferingTimeout()}),12e4),this.listener.onSinkIdle()),this.idle=i}},n.onBufferingTimeout=function(){clearTimeout(this.idleTimeout),this.idleTimeout=-1,this.listener.onSinkError({value:101,code:101,message:"Buffering timeout"})},n.playInternal=function(){var e=this;this.playAttempt=!0,J.a.resolve(this.video.play()).catch((function(){e.playAttempt=!1,e.checkStopped(!0)}))},t}(X),$=function(){function e(){r()(this,"buffer",void 0),r()(this,"head",void 0),r()(this,"tail",void 0),this.buffer=[],this.head=0,this.tail=0}var t=e.prototype;return t.push=function(e){this.tail===this.buffer.length?this.buffer.push(e):this.buffer[this.tail]=e,this.tail++},t.pop=function(){var e=this.buffer[this.head];return this.buffer[this.head]=null,this.head++,this.empty()&&(this.head=0,this.tail=0),e},t.size=function(){return this.tail-this.head},t.empty=function(){return this.head>=this.tail},e}(),ee=function(){function e(e,t){r()(this,"video",void 0),r()(this,"srcBuf",void 0),r()(this,"pending",void 0),this.video=e,this.srcBuf=t,this.pending=new $,this.srcBuf.addEventListener("updateend",this.process.bind(this))}var t=e.prototype;return t.appendBuffer=function(e){this.schedule((function(t){try{t.appendBuffer(e)}catch(e){if("QuotaExceededError"===e.name){var n=t.buffered,i=n.start(0),r=n.end(n.length-1),o=(i+r)/2;t.remove(o,r)}}}))},t.setTimestampOffset=function(e){this.schedule((function(t){t.timestampOffset=e}))},t.remove=function(e,t){this.schedule((function(n){var i=n.buffered;if(i.length){var r=Math.max(e,i.start(0)),o=Math.min(t,i.end(i.length-1));r<o&&n.remove(r,o)}}))},t.schedule=function(e){this.pending.empty()&&!this.updating()?e(this.srcBuf):(this.pending.push(e),this.process())},t.process=function(){for(;!this.pending.empty()&&!this.updating();)this.pending.pop()(this.srcBuf)},t.updating=function(){return!this.srcBuf||this.srcBuf.updating||null!==this.video.error},e}();function te(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function ne(e){return""===e.codecs||"undefined"==typeof MediaSource||MediaSource.isTypeSupported('video/mp4;codecs="'+e.codecs+'"')}function ie(e){var t,n;return void 0!==e.hidden?(t="hidden",n="visibilitychange"):void 0!==e.msHidden?(t="msHidden",n="msvisibilitychange"):void 0!==e.webkitHidden&&(t="webkitHidden",n="webkitvisibilitychange"),{hidden:t,visibilityChange:n}}function re(e,t,n){return Math.min(n,Math.max(t,e))}function oe(e){e.removeAttribute("src")}var se=function(){function e(e,t){r()(this,"video",void 0),r()(this,"codecs",void 0),r()(this,"listener",void 0),r()(this,"playbackMonitor",void 0),r()(this,"mediaSource",void 0),r()(this,"tracks",void 0),r()(this,"trackOffsets",void 0),r()(this,"removeTimeupdateListener",void 0),this.video=t,this.codecs=Object.create(null),this.listener=e,this.playbackMonitor=new Z(t,e),this.mediaSource=null,this.tracks=Object.create(null),this.trackOffsets=Object.create(null),this.removeTimeupdateListener=ae}var t=e.prototype;return t.configure=function(e){var t=this,n=e.trackID,i=e.codec;this.codecs[n]=i,this.trackOffsets[n]=0,this.mediaSource||(this.mediaSource=ue(this.video),this.mediaSource.then((function(e){e.addEventListener("sourceended",t.onMediaSourceEnd.bind(t))}))),this.tracks[n]||this.addSourceBuffer(n,i,0)},t.enqueue=function(e){var t=e.trackID,n=e.buffer,i=this.tracks[t];i&&i.then((function(e){return e.appendBuffer(n)}),ae)},t.endOfStream=function(){var e=this;this.scheduleUpdate().then((function(){return e.playbackMonitor.endOfStream()}))},t.setTimestampOffset=function(e){var t=e.trackID,n=e.offset,i=this.tracks[t];i&&(this.trackOffsets[t]=n,this.scheduleUpdate().then(i.then((function(e){return e.setTimestampOffset(n)}),ae)))},t.onSourceDurationChanged=function(e){var t=this;this.mediaSource.then((function(n){var i=function(e,t,n){var i=null;e===1/0?n&&t!==1/0?i=e:n||t===1<<30||(i=1<<30):e!==t&&(i=e);return i}(e,n.duration,t.video.controls);null!==i&&t.updateMediaSourceDuration(n,i)})),this.removeTimeupdateListener(),this.removeTimeupdateListener=W(this.video,"timeupdate",(function(){return t.onSourceDurationChanged(e)}))},t.play=function(){var e=this;this.scheduleUpdate().then((function(){return e.playbackMonitor.play()}))},t.pause=function(){var e=this;this.scheduleUpdate().then((function(){return e.playbackMonitor.pause()}))},t.reinit=function(){this.playbackMonitor.pause();var e=this.video.currentTime,t=this.video.src;for(var n in this.mediaSource=ue(this.video),URL.revokeObjectURL(t),this.tracks)this.addSourceBuffer(n,this.codecs[n],this.trackOffsets[n]);this.video.currentTime=e},t.remove=function(e){var t=e.start,n=e.end,i=function(e){return e.remove(t,n)};for(var r in this.tracks)this.tracks[r].then(i)},t.seekTo=function(e){var t=this,n=G(this.video,.1),i=n.start,r=n.end;e>=i&&e<r?this.scheduleUpdate().then((function(){return t.playbackMonitor.seekTo(e)})):this.playbackMonitor.seekTo(e)},t.setVolume=function(e){this.video.volume!==e&&(this.video.volume=e)},t.getVolume=function(){return this.video.volume},t.isMuted=function(){return this.video.muted},t.setMuted=function(e){this.video.muted!==e&&(this.video.muted=e)},t.getDisplayWidth=function(){return this.video.clientWidth},t.getDisplayHeight=function(){return this.video.clientHeight},t.setPlaybackRate=function(e){this.playbackMonitor.setPlaybackRate(e)},t.getPlaybackRate=function(){return this.video.playbackRate},t.getCurrentTime=function(){return this.video.currentTime},t.buffered=function(){return G(this.video,.1)},t.bufferDuration=function(){var e=this.buffered(),t=e.start;return e.end-Math.max(t,this.video.currentTime)},t.decodedFrames=function(){return B(this.video)},t.droppedFrames=function(){return H(this.video)},t.framerate=function(){return this.playbackMonitor.framerate()},t.captureGesture=function(){this.playbackMonitor.play(),this.playbackMonitor.pause()},t.delete=function(){if(this.removeTimeupdateListener(),this.playbackMonitor.delete(),this.video.src){var e=this.video.src;oe(this.video),this.video.load(),URL.revokeObjectURL(e)}},t.addSourceBuffer=function(e,t,n){var i=this,r=this.mediaSource.then((function(e){var r=e.addSourceBuffer("video/mp4;"+t);return r.timestampOffset=n,new ee(i.video,r)}));r.catch((function(e){return i.listener.onSinkError({value:4,code:4,message:e.toString()})})),this.tracks[e]=r},t.scheduleUpdate=function(){function e(e){return new J.a((function(t){return e.schedule(t)}))}var t=[];for(var n in this.tracks)t.push(this.tracks[n].then(e));return J.a.all(t).catch(ae)},t.updateMediaSourceDuration=function(e,t){var n=this;if("open"===e.readyState)e.duration=t;else var i=W(e,"sourceopen",(function(){i(),"open"===e.readyState&&n.scheduleUpdate().then((function(){e.duration=t}))}))},t.onMediaSourceEnd=function(){this.tracks=Object.create(null),this.video.load(),this.listener.onSinkReset()},e}();function ae(){}function ue(e){return new J.a((function(t,n){var i=new MediaSource;i.addEventListener("sourceopen",(function e(){i.removeEventListener("sourceopen",e),"open"===i.readyState?(i.duration=1<<30,t(i)):n(new Error("MediaSource not opened"))}));var r=e.playbackRate;e.src=URL.createObjectURL(i),e.playbackRate=r}))}var ce,de=function(e){function t(t,n){var i;i=e.call(this,n,t)||this,r()(z()(i),"fps",void 0),r()(z()(i),"intervalId",void 0),r()(z()(i),"attemptingToPlay",void 0),r()(z()(i),"hasReloadedOnDecodeError",void 0),i.fps=0,i.intervalId=-1,i.attemptingToPlay=!1,i.hasReloadedOnDecodeError=!1,i.addListener("waiting",(function(){return i.onVideoWaiting()}),i.video),i.addListener("timeupdate",(function(){return i.onVideoTimeUpdate()}),i.video),i.addListener("durationchange",(function(){return i.onVideoDurationChange()}),i.video),i.addListener("error",(function(){return i.onVideoError()}),i.video),i.addListener("play",(function(){return i.onVideoPlay()}),i.video),i.addListener("pause",(function(){return i.onVideoPause()}),i.video),i.addListener("ended",(function(){return i.onVideoEnded()}),i.video),i.addListener("playing",(function(){return i.onVideoPlaying()}),i.video);var o=ie(document).visibilityChange;return i.addListener(o,(function(){return i.onVisibilityChange()}),document),i.handleTrackEvents(),i}Y()(t,e);var n=t.prototype;return n.configure=function(e){var t=e.path;this.hasReloadedOnDecodeError=!1,this.video.src=t},n.play=function(){var e=this,t=this.video.buffered;if(t.length>0){var n=t.start(t.length-1),i=t.end(t.length-1);(this.video.duration===1/0&&i<this.video.currentTime||-1===this.video.src.indexOf(".mp4")&&this.video.currentTime<n)&&(console.warn("Moving to buffered region"),this.video.currentTime=n)}this.paused=!1,this.attemptingToPlay=!0,Promise.resolve(this.video.play()).then((function(){e.attemptingToPlay=!1})).catch((function(){e.attemptingToPlay=!1,e.checkStopped(!0)}))},n.pause=function(){e.prototype.pause.call(this),clearTimeout(this.intervalId)},n.reinit=function(){var e=this.video.src;this.video.src="",this.video.load(),this.video.src=e},n.seekTo=function(e){this.video.currentTime=e},n.setVolume=function(e){this.video.volume=e},n.getVolume=function(){return this.video.volume},n.buffered=function(){return G(this.video,.1)},n.decodedFrames=function(){return B(this.video)},n.droppedFrames=function(){return H(this.video)},n.framerate=function(){return this.fps},n.delete=function(){e.prototype.delete.call(this),this.video.src="",this.video.load()},n.isMuted=function(){return this.video.muted},n.setMuted=function(e){this.video.muted=e},n.getDisplayWidth=function(){return this.video.clientWidth},n.getDisplayHeight=function(){return this.video.clientHeight},n.getPlaybackRate=function(){return this.video.playbackRate},n.getCurrentTime=function(){return this.video.currentTime},n.bufferDuration=function(){var e=this.buffered(),t=e.start;return e.end-Math.max(t,this.video.currentTime)},n.enqueue=function(){},n.endOfStream=function(){},n.setTimestampOffset=function(){},n.remove=function(){},n.onSourceDurationChanged=function(e){},n.captureGesture=function(){Promise.resolve(this.video.play()).catch((function(){})),this.video.pause()},n.handleTrackEvents=function(){var e=this;if(void 0!==window.DataCue||void 0!==window.WebKitDataCue){var t=this.video.addTextTrack("metadata","passthrough");this.addListener("addtrack",(function(n){var i=n.track;if("metadata"===i.kind&&"disabled"===i.mode){i.mode="hidden";var r=0;e.addListener("cuechange",(function(){for(var n=i.cues.length;r<n;r++){var o=i.cues[r],s=o.startTime,a=o.endTime,u=o.type,c=o.value;if("org.id3"===u&&c&&"TXXX"===c.key&&"segmentmetadata"!==c.info){var d=new(window.WebKitDataCue||window.DataCue)(s,a,"");d.value=c.data||"",d.info=c.info||"",e.addListener("enter",(function(t){var n=t.target;e.listener.onPassthroughSinkMetadata(n.startTime,n.endTime,n.value,n.info)}),d),t.addCue(d)}}}),i)}}),this.video.textTracks)}},n.onVideoWaiting=function(){var e=this;if(G(this.video,.1).end-this.video.currentTime<.1){this.listener.onSinkIdle();var t=self.setTimeout((function(){e.listener.onSinkError({value:101,code:101,message:"Buffering timeout"})}),12e4),n=W(this.video,"timeupdate",(function(){n(),clearTimeout(t)}))}var i=W(this.video,"timeupdate",(function(){4===e.video.readyState&&(i(),e.onVideoPlaying())}))},n.onVideoTimeUpdate=function(){var e=this.listener,t=this.video;e.onSinkTimeUpdate(),e.onSinkVideoDisplaySizeChanged(t.clientWidth*self.devicePixelRatio,t.clientHeight*self.devicePixelRatio)},n.onVideoDurationChange=function(){this.listener.onSinkDurationChanged(this.video.duration)},n.onVideoError=function(){var e=this.video.error,t=this.video.error,n=t.code,i=t.message,r=void 0===i?"":i;3!==e.code||this.hasReloadedOnDecodeError?this.listener.onSinkError({value:n,code:n,message:r}):this.hasReloadedOnDecodeError||(this.hasReloadedOnDecodeError=!0,console.warn("Reload video element on MEDIA_ERR_DECODE 3"),this.video.load())},n.onVideoPlay=function(){var e=this,t=this.video.currentTime;clearTimeout(this.intervalId),this.intervalId=self.setTimeout((function(){return e.heartbeat(t)}),2e3)},n.onVideoPause=function(){clearTimeout(this.intervalId),this.attemptingToPlay||this.checkStopped(!1)},n.onVideoEnded=function(){this.listener.onSinkEnded()},n.onVideoPlaying=function(){this.listener.onSinkPlaying(this.paused),this.trackFPS(B(this.video),performance.now()),this.trackBufferUpdate(G(this.video,.1).end)},n.onVisibilityChange=function(){var e=ie(document).hidden;document[e]&&(this.hasReloadedOnDecodeError=!1)},n.heartbeat=function(e){var t,n,i,r,o,s=this,a=this.video.currentTime;if(a===e){if(t=this.video,i=G(t,n=.1).end,r=t.currentTime,o=i-r,!(t.ended||t.duration-r<n)&&o<n)return void this.listener.onSinkIdle();var u=j(this.video,.1);u!==a&&(console.warn("jumping "+(u-a)+"s gap"),this.video.currentTime=u,a=this.video.currentTime)}this.intervalId=self.setTimeout((function(){return s.heartbeat(a)}),2e3)},n.trackFPS=function(e,t){var n=this,i=B(this.video),r=performance.now();this.fps=(i-e)/(r-t)*1e3;var o=W(this.video,"timeupdate",(function(){o(),n.trackFPS(i,r)}))},n.trackBufferUpdate=function(e){var t=this,n=this.buffered().end;n!==e&&this.listener.onSinkBufferUpdate();var i=W(this.video,"timeupdate",(function(){i(),t.trackBufferUpdate(n)}))},t}(X),he=function(){function e(e,t,n){r()(this,"video",void 0),r()(this,"listener",void 0),r()(this,"drmManager",void 0),r()(this,"codecs",void 0),r()(this,"sink",void 0),r()(this,"observer",void 0),r()(this,"remoteDevicesListener",void 0),this.video=n||document.createElement("video"),this.listener=e,this.drmManager=new U({video:this.video,listener:e}),this.codecs=Object.create(null),this.sink=new le(this.video),t&&(this.remoteDevicesListener=O.a.lookForRemotePlaybackDevices(this.listener)),this.observer=new Q(this.video,e)}var t=e.prototype;return t.delete=function(){this.reset(),this.remoteDevicesListener&&this.remoteDevicesListener.then((function(e){return O.a.stopLookingForRemotePlaybackDevices(e)}))},t.configure=function(e){var t=e.mode,n=e.codec,i=e.trackID;this.sink instanceof le&&(this.sink="chromecast"===t?new O.a(this.listener):"passthrough"===t?new de(this.listener,this.video):new se(this.listener,this.video)),n?this.codecs[i]=n:e.codec=this.codecs[i],this.sink.configure(e);var r=e.path,o=e.isProtected;r&&o&&this.drmManager.configure(r),this.observer.onConfigure()},t.applyRPC=function(e){var t=e.name,n=e.arg;this.observer.trackRPC(t,n),this.sink[t].call(this.sink,n)},t.getCurrentSink=function(){return this.sink},t.reset=function(){this.sink.delete(),this.drmManager.reset(),this.sink=new le(this.video),this.listener.onSinkTimeUpdate(),this.listener.onSinkBufferUpdate()},t.videoElement=function(){return this.video},t.isProtected=function(){return this.drmManager.isProtected()},t.captureGesture=function(){this.video.played.length||this.sink.captureGesture()},t.destroy=function(){this.observer.unsubscribe(),this.delete()},t.isLowLatencyCapable=function(){return this.sink instanceof se},e}(),le=function(){function e(e){r()(this,"video",void 0),this.video=e}var t=e.prototype;return t.configure=function(e){},t.enqueue=function(e){},t.endOfStream=function(){},t.setTimestampOffset=function(e){},t.onSourceDurationChanged=function(e){},t.play=function(){},t.pause=function(){},t.reinit=function(){},t.remove=function(e){},t.seekTo=function(e){},t.setPlaybackRate=function(e){this.video.playbackRate=e},t.setVolume=function(e){this.video.volume=e},t.buffered=function(){return{start:0,end:0}},t.decodedFrames=function(){return 0},t.droppedFrames=function(){return 0},t.framerate=function(){return 0},t.delete=function(){},t.getVolume=function(){return this.video.volume},t.isMuted=function(){return this.video.muted},t.setMuted=function(e){this.video.muted=e},t.getDisplayWidth=function(){return 0},t.getDisplayHeight=function(){return 0},t.getPlaybackRate=function(){return this.video.playbackRate},t.getCurrentTime=function(){return 0},t.bufferDuration=function(){return 0},t.captureGesture=function(){},e}();!function(e){e[e.STATE_CHANGED=0]="STATE_CHANGED",e[e.CONFIGURE=1]="CONFIGURE",e[e.RESET=2]="RESET",e[e.ADD_CUE=3]="ADD_CUE",e[e.GET_DECODE_INFO=4]="GET_DECODE_INFO",e[e.MEDIA_SINK_RPC=5]="MEDIA_SINK_RPC",e[e.GET_EXPERIMENTS=6]="GET_EXPERIMENTS",e[e.LOG_MESSAGE=7]="LOG_MESSAGE",e[e.DATA_CHANNEL_CREATE=8]="DATA_CHANNEL_CREATE",e[e.DATA_CHANNEL_CLOSE=9]="DATA_CHANNEL_CLOSE",e[e.DATA_CHANNEL_SEND=10]="DATA_CHANNEL_SEND",e[e.RTC_SET_REMOTE_DESCRIPTION=11]="RTC_SET_REMOTE_DESCRIPTION",e[e.PROPERTY_CHANGED=12]="PROPERTY_CHANGED"}(ce||(ce={}));var fe=n(13),pe=function(){function e(){r()(this,"emitter",void 0),this.emitter=new fe.EventEmitter}var t=e.prototype;return t.on=function(e,t){this.emitter.on(String(e),t)},t.removeListener=function(e,t){this.emitter.removeListener(String(e),t)},t.emit=function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];(t=this.emitter).emit.apply(t,[String(e)].concat(i))},t.removeAllListeners=function(){this.emitter.removeAllListeners()},e}(),me=function(){function e(e){r()(this,"peerConnection",void 0),r()(this,"listener",void 0),r()(this,"dataChannelMap",void 0),this.listener=e,this.dataChannelMap=new Map}var t=e.prototype;return t.createDataChannel=function(e,t){var n,i,r=this;return N.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return this.peerConnection||(this.peerConnection=new RTCPeerConnection({sdpSemantics:"unified-plan",rtcpMuxPolicy:"require"})),(n=this.peerConnection.createDataChannel(e,t)).binaryType="arraybuffer",this.dataChannelMap.set(e,n),n.addEventListener("message",(function(e){r.listener.onMessage(e.data)})),n.addEventListener("open",(function(){return r.listener.onOpen()})),n.addEventListener("close",(function(){return r.listener.onClose()})),n.addEventListener("error",(function(){return function(e){return r.listener.onError(e.error.message)}})),o.prev=8,o.next=11,N.a.awrap(this.peerConnection.createOffer({offerToReceiveAudio:!1,offerToReceiveVideo:!1}));case 11:return i=o.sent,o.next=14,N.a.awrap(this.peerConnection.setLocalDescription(i));case 14:this.listener.onOffer(i.type,i.sdp),o.next=20;break;case 17:o.prev=17,o.t0=o.catch(8),this.listener.onError("connection error");case 20:case"end":return o.stop()}}),null,this,[[8,17]])},t.close=function(e){this.dataChannelMap.has(e)&&(this.dataChannelMap.get(e).close(),this.dataChannelMap.delete(e)),this.peerConnection&&(this.peerConnection.close(),this.peerConnection=null)},t.send=function(e,t){if(this.dataChannelMap.has(e)){var n=this.dataChannelMap.get(e);"open"===n.readyState?n.send(t):n.addEventListener("open",(function(){return n.send(t)}))}else this.listener.onError("No data channel")},t.setRemoteDescription=function(e){this.peerConnection||this.listener.onError("No peer connection"),this.peerConnection.setRemoteDescription(e)},e}(),ve=o.a.chrome&&63===o.a.major||o.a.opera,ge=function(){function e(t,n){var i,s=this;if(r()(this,"worker",void 0),r()(this,"id",void 0),r()(this,"emitter",void 0),r()(this,"seekTime",void 0),r()(this,"paused",void 0),r()(this,"isLoaded",void 0),r()(this,"autoplay",void 0),r()(this,"mediaSinkManager",void 0),r()(this,"webRTCDataChannelManager",void 0),r()(this,"experiments",void 0),r()(this,"enableRemoteSearch",void 0),r()(this,"isQualitySupported",void 0),r()(this,"onvisibilitychange",void 0),r()(this,"onmessage",void 0),r()(this,"onOnline",void 0),r()(this,"onOffline",void 0),r()(this,"state",void 0),r()(this,"workerMessageProcessors",void 0),this.worker=n,this.id=e.instanceId++,this.emitter=new pe,this.seekTime=null,this.paused=!0,this.isLoaded=!1,this.autoplay=!1,this.isQualitySupported=t.isQualitySupported||ne,this.onvisibilitychange=function(){return s.onVisibilityChange()},this.onmessage=function(e){return s.onWorkerMessage(e)},this.onOnline=function(){return s.postMessage("onOnline")},this.onOffline=function(){return s.postMessage("onOffline")},this.enableRemoteSearch=t.enableRemoteSearch||!1,this.mediaSinkManager=new he(this,this.enableRemoteSearch),this.webRTCDataChannelManager=new me({onClose:function(){return s.postMessage("onClose")},onError:function(e){return s.postMessage("onError",[e])},onMessage:function(e){return s.postMessage("onMessage",[e],[e])},onOpen:function(){return s.postMessage("onOpen")},onOffer:function(e,t){return s.postMessage("onOffer",[e,t])}}),this.experiments=null,this.workerMessageProcessors=[c],d.isSupported()){var a=new d;this.workerMessageProcessors.push(a.processor)}this.state={averageBitrate:0,bandwidthEstimate:0,looping:!1,autoQualityMode:!0,volume:1,liveLatency:0,liveLowLatencyEnabled:!0,liveLowLatency:!1,statistics:{}},this.resetState(),this.attachHandlers(),this.postMessage("create",[{logLevel:String(t.logLevel),mseSupported:Object(h.a)(),keySystem:void 0!==t.keySystem?t.keySystem:(i=o.a,"function"==typeof navigator.requestMediaKeySystemAccess?i.safari?"":i.msIE||i.msEdgeLegacy?v.PLAYREADY.uuid:v.WIDEVINE.uuid:""),browserContext:o.a,codecs:e.isVP9Supported()?["vp09"]:[],testOnly:t.testOnly}])}e.isVP9Supported=function(){return Object(h.a)()&&MediaSource.isTypeSupported('video/mp4;codecs="vp09.00.10.08"')};var t=e.prototype;return t.delete=function(){var e=ie(document).visibilityChange;this.postMessage("delete"),this.worker.removeEventListener("message",this.onmessage),document.removeEventListener(e,this.onvisibilitychange),window.removeEventListener("online",this.onOnline),window.removeEventListener("offline",this.onOffline),this.mediaSinkManager.destroy(),this.emitter.removeAllListeners(),this.emitter=null},t.attachHTMLVideoElement=function(e){this.mediaSinkManager&&this.mediaSinkManager.destroy(),this.mediaSinkManager=new he(this,this.enableRemoteSearch,e),this.processVideoElementAttributes(e)},t.getHTMLVideoElement=function(){return this.mediaSinkManager.videoElement()},t.load=function(e,t){void 0===t&&(t=""),this.postMessage("load",[e,t]),this.autoplay&&this.postMessage("playIntent")},t.play=function(){this.postMessage("playIntent"),this.mediaSinkManager.captureGesture(),this.paused=!1,this.attemptPlay()},t.setAutoplay=function(e){this.autoplay=e},t.getExperiments=function(){return this.experiments},t.setExperiment=function(e,t){this.setExperimentData({id:e,assignment:t,version:0,type:""})},t.setExperimentData=function(e){this.postMessage("setExperiment",[e])},t.pause=function(){this.paused=!0,this.postMessage("pause")},t.isPaused=function(){return this.paused},t.seekTo=function(e){this.seekTime=e,this.postMessage("seekTo",[e])},t.isSeeking=function(){return null!==this.seekTime},t.isAutoplay=function(){return this.autoplay},t.getDuration=function(){return this.state.duration},t.getStartOffset=function(){return this.state.startOffset||0},t.getPosition=function(){return null===this.seekTime?this.mediaSinkManager.getCurrentSink().getCurrentTime():this.seekTime},t.getBuffered=function(){return this.mediaSinkManager.getCurrentSink().buffered()},t.getBufferDuration=function(){return this.mediaSinkManager.getCurrentSink().bufferDuration()},t.getState=function(){return this.state.state},t.getVideoWidth=function(){return this.mediaSinkManager.videoElement().videoWidth},t.getVideoHeight=function(){return this.mediaSinkManager.videoElement().videoHeight},t.getVideoFrameRate=function(){return this.state.statistics.framerate},t.getVideoBitRate=function(){return this.state.statistics.bitrate},t.getAverageBitrate=function(){return this.state.averageBitrate},t.getBandwidthEstimate=function(){return this.state.bandwidthEstimate},t.getVersion=function(){return"1.2.0-bb1a7cf1"},t.isLiveLowLatency=function(){return this.state.liveLowLatencyEnabled&&this.state.liveLowLatency},t.isLooping=function(){return this.state.looping},t.setLogLevel=function(e){this.postMessage("setLogLevel",[e])},t.setLooping=function(e){this.state.looping=e,this.postMessage("setLooping",[e])},t.isMuted=function(){return this.mediaSinkManager.getCurrentSink().isMuted()},t.setMuted=function(e){this.mediaSinkManager.getCurrentSink().setMuted(e)},t.setVolume=function(e){this.state.volume=e,this.postMessage("setVolume",[this.state.volume])},t.getVolume=function(){return this.state.volume},t.getQuality=function(){return this.state.quality},t.setQuality=function(e,t){void 0===t&&(t=!1),this.mediaSinkManager.videoElement().controls||(this.postMessage("setQuality",[e,t]),this.state.autoQualityMode=!1)},t.getQualities=function(){return this.state.qualities},t.setAuthToken=function(e){this.postMessage("setAuthToken",[e])},t.isAutoQualityMode=function(){return this.state.autoQualityMode},t.setAutoQualityMode=function(e){this.state.autoQualityMode=e,this.postMessage("setAutoQualityMode",[e])},t.setAutoInitialBitrate=function(e){this.postMessage("setAutoInitialBitrate",[e])},t.setAutoMaxQuality=function(e){this.postMessage("setAutoMaxQuality",[e])},t.setAutoMaxBitrate=function(e){this.postMessage("setAutoMaxBitrate",[e])},t.setAutoMaxVideoSize=function(e,t){this.postMessage("setAutoMaxVideoSize",[e,t])},t.setAutoViewportSize=function(e,t){this.postMessage("setAutoViewportSize",[e,t])},t.getPlaybackRate=function(){return this.mediaSinkManager.getCurrentSink().getPlaybackRate()},t.setPlaybackRate=function(e){return this.mediaSinkManager.getCurrentSink().setPlaybackRate(e)},t.setClientId=function(e){this.postMessage("setClientId",[e])},t.setDeviceId=function(e){this.postMessage("setDeviceId",[e])},t.setLiveSpeedUpRate=function(e){this.postMessage("setLiveSpeedUpRate",[e])},t.setPlayerType=function(e){this.postMessage("setPlayerType",[e])},t.setLiveMaxLatency=function(e){this.postMessage("setLiveMaxLatency",[e])},t.setLiveLowLatencyEnabled=function(e){this.state.liveLowLatencyEnabled=e,this.postMessage("setLiveLowLatencyEnabled",[e])},t.setRebufferToLive=function(e){this.postMessage("setRebufferToLive",[e])},t.setVisible=function(e){this.postMessage("setVisible",[e])},t.addEventListener=function(e,t){this.emitter.on(e,t)},t.removeEventListener=function(e,t){this.emitter.removeListener(e,t)},t.getDroppedFrames=function(){return this.state.statistics.droppedFrames},t.getDecodedFrames=function(){return this.state.statistics.decodedFrames},t.getDisplayWidth=function(){return this.mediaSinkManager.getCurrentSink().getDisplayWidth()},t.getDisplayHeight=function(){return this.mediaSinkManager.getCurrentSink().getDisplayHeight()},t.getSessionId=function(){return this.state.sessionId},t.getSessionData=function(){return this.state.sessionData},t.getLiveLatency=function(){return this.state.liveLatency},t.isProtected=function(){return this.mediaSinkManager.isProtected()},t.startRemotePlayback=function(){this.postMessage("startRemotePlayback")},t.endRemotePlayback=function(){this.postMessage("endRemotePlayback")},t.setPlatformName=function(e){this.postMessage("setPlatformName",[e])},t.onSinkTimeUpdate=function(){var e=this.mediaSinkManager.getCurrentSink();null===this.seekTime&&(this.postMessage("onClientSinkUpdate",[{currentTime:e.getCurrentTime(),decodedFrames:e.decodedFrames(),droppedFrames:e.droppedFrames(),framerate:e.framerate(),bufferDuration:e.bufferDuration(),displayHeight:e.getDisplayHeight(),displayWidth:e.getDisplayWidth()}]),this.emitter.emit(s.a.TIME_UPDATE,e.getCurrentTime()))},t.onSinkBufferUpdate=function(){this.emitter.emit(s.a.BUFFER_UPDATE)},t.onSinkDurationChanged=function(e){this.postMessage("onClientSinkDurationChanged",[e])},t.onSinkEnded=function(){this.postMessage("onClientSinkEnded")},t.onSinkIdle=function(){this.postMessage("onClientSinkIdle")},t.onSinkPlaying=function(e){this.postMessage("onClientSinkPlaying"),e&&this.play()},t.onSinkStop=function(e){var t=ie(document).hidden;document[t]?this.postMessage("pause"):e?this.isMuted()?(this.pause(),this.emitter.emit(s.a.PLAYBACK_BLOCKED)):(this.setMuted(!0),this.mediaSinkManager.getCurrentSink().play(),this.emitter.emit(s.a.AUDIO_BLOCKED)):this.pause()},t.onSinkReset=function(){this.postMessage("onClientSinkReset")},t.onSinkError=function(e){var t=e.value,n=e.code,i=e.message;this.postMessage("onClientSinkError",[t,n,i])},t.onSinkVideoDisplaySizeChanged=function(e,t){this.setAutoViewportSize(e,t)},t.onSinkVolumeChanged=function(e,t){this.mediaSinkManager.videoElement().controls&&t&&this.setVolume(e),this.emitter.emit(s.a.VOLUME_CHANGED,this.state.volume)},t.onSinkMutedChanged=function(e){this.postMessage("setMuted",[e]),this.emitter.emit(s.a.MUTED_CHANGED)},t.onSinkPlaybackRateChanged=function(e){this.postMessage("setPlaybackRate",[e])},t.onPassthroughSinkMetadata=function(e,t,n,i){this.emitter.emit(s.a.TEXT_METADATA_CUE,{description:i,endTime:t,startTime:e,text:n,type:"TextMetadataCue"})},t.onRemoteDevice=function(e){this.emitter.emit(e?L.a.AVAILABLE:L.a.UNAVAILABLE)},t.onRemoteReconnect=function(){this.startRemotePlayback()},t.onSessionError=function(){this.postMessage("onClientSinkError",[1,0,"Chromecast session error"])},t.onLoadMediaError=function(){this.postMessage("onClientSinkError",[1,0,"Chromecast load media failed"])},t.onUserCancel=function(){this.endRemotePlayback(),this.emitter.emit(L.a.SESSION_ENDED)},t.onSessionStop=function(){this.endRemotePlayback(),this.emitter.emit(L.a.SESSION_ENDED)},t.onSessionStarted=function(e){this.emitter.emit(L.a.SESSION_STARTED,e)},t.attemptPlay=function(){var e=ie(document).hidden;!document[e]&&this.isLoaded&&this.postMessage("play")},t.getDecodingInfo=function(e){var t=this;navigator.mediaCapabilities.decodingInfo(e).then((function(e){t.postMessage("onMediaDecodingInfoResult",[e])}))},t.postMessage=function(e,t,n){void 0===n&&(n=[]),this.worker.postMessage({id:this.id,funcName:e,args:t},n)},t.resetState=function(){te(this.state,{state:R.a.IDLE,quality:{name:"",group:"",codecs:"",bitrate:0,width:0,height:0,framerate:0},qualities:[],duration:0,startOffset:0,sessionData:{},volume:1,statistics:{bitrate:0,framerate:0,droppedFrames:0,decodeFrames:0,renderedFrames:0}}),this.emitter.emit(s.a.DURATION_CHANGED,0),this.seekTime=null,this.isLoaded=!1},t.attachHandlers=function(){var e=this;this.worker.addEventListener("message",this.onmessage);var t=ie(document).visibilityChange;document.addEventListener(t,this.onvisibilitychange),window.addEventListener("online",this.onOnline),window.addEventListener("offline",this.onOffline);var n=this.emitter;n.on(s.a.VOLUME_CHANGED,(function(){return e.onVolumeChanged()})),n.on(s.a.MUTED_CHANGED,(function(){return e.onMutedChanged()})),n.on(s.a.SEEK_COMPLETED,(function(){return e.onSeekCompleted()})),n.on(s.a.ERROR,(function(){return e.onError()})),n.on(s.a.SESSION_DATA,(function(t){return e.onSessionData(t)})),n.on(ce.STATE_CHANGED,(function(t){return e.onStateChanged(t)})),n.on(ce.MEDIA_SINK_RPC,(function(t){return e.mediaSinkManager.applyRPC(t)})),n.on(ce.CONFIGURE,(function(t){return e.mediaSinkManager.configure(t)})),n.on(ce.RESET,(function(){return e.mediaSinkManager.reset()})),n.on(ce.GET_DECODE_INFO,(function(t){return e.getDecodingInfo(t)})),n.on(C.a.ID3,(function(t){return e.onID3(t)})),n.on(ce.GET_EXPERIMENTS,(function(t){e.experiments=t})),n.on(ce.PROPERTY_CHANGED,(function(t){var n=t.key,i=t.value;e.state[n]=i})),n.on(ce.DATA_CHANNEL_CREATE,(function(t){var n=t.label,i=t.options;return e.webRTCDataChannelManager.createDataChannel(n,i)})),n.on(ce.DATA_CHANNEL_CLOSE,(function(t){var n=t.label;return e.webRTCDataChannelManager.close(n)})),n.on(ce.DATA_CHANNEL_SEND,(function(t){var n=t.label,i=t.buffer;return e.webRTCDataChannelManager.send(n,i)})),n.on(ce.RTC_SET_REMOTE_DESCRIPTION,(function(t){var n=t.answer;return e.webRTCDataChannelManager.setRemoteDescription(n)})),n.on(ce.LOG_MESSAGE,(function(e){var t=e.level,n=e.message;return console[t](n)}))},t.onVolumeChanged=function(){var e=ie(document).hidden;ve&&document[e]&&0===this.getVolume()&&this.postMessage("pause")},t.onMutedChanged=function(){var e=ie(document).hidden;ve&&document[e]&&this.isMuted()&&this.postMessage("pause")},t.onSeekCompleted=function(){this.seekTime=null},t.onError=function(){this.paused=!0},t.onStateChanged=function(e){var t=this;switch(e){case R.a.READY:var n=function(e,t){var n=[],i=[];return e.forEach((function(e){t(e)?n.push(e):i.push(e)})),{supported:n,unsupported:i}}(this.state.qualities,this.isQualitySupported);this.state.qualities=n.supported,n.unsupported.forEach((function(e){return t.postMessage("removeQuality",[e])})),this.isLoaded=!0,this.autoplay&&this.play(),this.paused||this.attemptPlay();break;case R.a.ENDED:this.paused=!0}this.emitter.emit(e)},t.onID3=function(e){var t=this;e.forEach((function(e){if("TXXX"===e.id&&"segmentmetadata"===e.desc&&e.info.length){var n=function(e){try{return JSON.parse(e)}catch(t){return console.error("Failed JSON parse:",e),{}}}(e.info[0]);if(n.hasOwnProperty("stream_offset")){var i=Number(n.stream_offset);isNaN(i)||(t.state.startOffset=i-t.getPosition())}}}))},t.onVisibilityChange=function(){var e=ie(document).hidden;this.paused||document[e]||this.attemptPlay(),ve&&!this.paused&&document[e]&&(this.isMuted()||0===this.getVolume())&&this.postMessage("pause"),o.a.firefox||this.postMessage("setVisible",[!document[e]])},t.onSessionData=function(e){te(this.state,e)},t.onWorkerMessage=function(e){var t=e.data;if(t&&t.id===this.id){var n=this.workerMessageProcessors.reduce((function(e,t){return t(e)}),t),i=n.type,r=n.arg;void 0!==t.arg?this.emitter.emit(i,r):this.emitter.emit(i)}},t.processVideoElementAttributes=function(e){if(e.hasAttribute("autoplay")&&(e.removeAttribute("autoplay"),this.setAutoplay(!0)),e.hasAttribute("playbackRate")){var t=parseFloat(e.getAttribute("playbackRate"));if(!isNaN(t)){var n=re(t,.25,2);this.setPlaybackRate(n)}e.removeAttribute("playbackRate")}if(e.hasAttribute("src")){var i=e.src;oe(e),this.load(i)}if(e.hasAttribute("loop")&&(e.removeAttribute("loop"),this.setLooping(!0)),e.hasAttribute("muted")&&(e.removeAttribute("muted"),this.setMuted(!0)),e.hasAttribute("volume")){var r=parseFloat(e.getAttribute("volume"));isNaN(r)||this.setVolume(re(r,0,1)),e.removeAttribute("volume")}},e}();r()(ge,"instanceId",0);var ye=function(){function e(e,t){var n=this;r()(this,"workerPort",void 0),r()(this,"emitter",void 0),r()(this,"messageQueue",void 0),r()(this,"terminated",void 0),this.workerPort={postMessage:this.postMessageFromWorker.bind(this),onmessage:function(){}},this.emitter=new fe.EventEmitter,this.messageQueue=new $,this.terminated=!1,this.loadScript(e,(function(e){return n.applyWorkerEnv(e,t)}))}var t=e.prototype;return t.postMessage=function(e){this.messageQueue?this.messageQueue.push(e):this.postMessageToWorker(e)},t.terminate=function(){this.terminated=!1},t.addEventListener=function(e,t){this.emitter.on(e,t)},t.removeEventListener=function(e,t){this.emitter.off(e,t)},t.loadScript=function(e,t){var n=this,i=new XMLHttpRequest;i.open("GET",e),i.addEventListener("load",(function(){i.status>=200&&i.status<400?t(i.response):n.emitter.emit("error",new Error(i.statusText))})),i.addEventListener("error",(function(e){n.emitter.emit("error",e)})),i.send()},t.applyWorkerEnv=function(e,t){try{Function("self","messageHandler",e)(window,this.workerPort)}catch(e){return void this.emitter.emit("error",e)}for(;!this.messageQueue.empty();)this.postMessageToWorker(this.messageQueue.pop());this.messageQueue=null},t.postMessageFromWorker=function(e){var t=this;setTimeout((function(){t.emitter.emit("message",{data:e})}),0)},t.postMessageToWorker=function(e){var t=this;setTimeout((function(){t.workerPort.onmessage({data:e})}),0)},e}();function Ee(e,t,n){var i,r,s,a;return void 0===n&&(n=!1),o.a.msIE?i=new ye(e,window):(r=e,s=window.location,(a=document.createElement("a")).href=r,i=a.hostname===s.hostname&&a.port===s.port&&a.protocol===s.protocol?new Worker(e):new Worker(URL.createObjectURL(new Blob(["importScripts('"+e+"')"])))),i.postMessage({wasmBinaryUrl:t,showWorkerLogs:n}),i}var Se="undefined"!=typeof MediaSource&&MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),be="undefined"!=typeof window&&"object"==typeof window.WebAssembly&&"function"==typeof window.WebAssembly.instantiate,ke=be;function Me(e){var t=e.asmWorker,n=e.wasmWorker,i=e.wasmBinary;if(!ke&&!t)throw new Error("WebAssembly is not supported by the browser. This is required for playback.");var r=Ee(ke?n:t,i,e.showWorkerLog);return new Pe(e,r)}var Pe=function(){function e(e,t){r()(this,"core",void 0),this.core=new ge(e,t)}var t=e.prototype;return t.addEventListener=function(e,t){this.checkCore()&&this.core.addEventListener(e,t)},t.attachHTMLVideoElement=function(e){this.checkCore()&&this.core.attachHTMLVideoElement(e)},t.delete=function(){this.checkCore()&&(this.core.delete(),this.core=null)},t.endRemotePlayback=function(){this.checkCore()&&this.core.endRemotePlayback()},t.isAutoplay=function(){if(this.checkCore())return this.core.isAutoplay()},t.isAutoQualityMode=function(){if(this.checkCore())return this.core.isAutoQualityMode()},t.getAverageBitrate=function(){if(this.checkCore())return this.core.getAverageBitrate()},t.getBandwidthEstimate=function(){if(this.checkCore())return this.core.getBandwidthEstimate()},t.getBufferDuration=function(){if(this.checkCore())return this.core.getBufferDuration()},t.getBuffered=function(){if(this.checkCore())return this.core.getBuffered()},t.getDecodedFrames=function(){if(this.checkCore())return this.core.getDecodedFrames()},t.getDisplayHeight=function(){if(this.checkCore())return this.core.getDisplayHeight()},t.getDisplayWidth=function(){if(this.checkCore())return this.core.getDisplayWidth()},t.getDroppedFrames=function(){if(this.checkCore())return this.core.getDroppedFrames()},t.getDuration=function(){if(this.checkCore())return this.core.getDuration()},t.getExperiments=function(){if(this.checkCore())return this.core.getExperiments()},t.getHTMLVideoElement=function(){if(this.checkCore())return this.core.getHTMLVideoElement()},t.getLiveLatency=function(){if(this.checkCore())return this.core.getLiveLatency()},t.getPlaybackRate=function(){if(this.checkCore())return this.core.getPlaybackRate()},t.getPosition=function(){if(this.checkCore())return this.core.getPosition()},t.getQualities=function(){if(this.checkCore())return this.core.getQualities()},t.getQuality=function(){if(this.checkCore())return this.core.getQuality()},t.getSessionData=function(){if(this.checkCore())return this.core.getSessionData()},t.getSessionId=function(){if(this.checkCore())return this.core.getSessionId()},t.getStartOffset=function(){if(this.checkCore())return this.core.getStartOffset()},t.getState=function(){if(this.checkCore())return this.core.getState()},t.getVersion=function(){if(this.checkCore())return this.core.getVersion()},t.getVideoBitRate=function(){if(this.checkCore())return this.core.getVideoBitRate()},t.getVideoFrameRate=function(){if(this.checkCore())return this.core.getVideoFrameRate()},t.getVideoHeight=function(){if(this.checkCore())return this.core.getVideoHeight()},t.getVideoWidth=function(){if(this.checkCore())return this.core.getVideoWidth()},t.getVolume=function(){if(this.checkCore())return this.core.getVolume()},t.isLiveLowLatency=function(){if(this.checkCore())return this.core.isLiveLowLatency()},t.isLooping=function(){if(this.checkCore())return this.core.isLooping()},t.isMuted=function(){if(this.checkCore())return this.core.isMuted()},t.isPaused=function(){if(this.checkCore())return this.core.isPaused()},t.isProtected=function(){if(this.checkCore())return this.core.isProtected()},t.isSeeking=function(){if(this.checkCore())return this.core.isSeeking()},t.load=function(e,t){if(void 0===t&&(t=""),this.checkCore())return this.core.load(e,t)},t.pause=function(){this.checkCore()&&this.core.pause()},t.play=function(){this.checkCore()&&this.core.play()},t.removeEventListener=function(e,t){this.checkCore()&&this.core.removeEventListener(e,t)},t.seekTo=function(e){this.checkCore()&&this.core.seekTo(e)},t.setAuthToken=function(e){this.checkCore()&&this.core.setAuthToken(e)},t.setAutoInitialBitrate=function(e){this.checkCore()&&this.core.setAutoInitialBitrate(e)},t.setAutoMaxQuality=function(e){this.checkCore()&&this.core.setAutoMaxQuality(e)},t.setAutoMaxBitrate=function(e){this.checkCore()&&this.core.setAutoMaxBitrate(e)},t.setAutoMaxVideoSize=function(e,t){this.checkCore()&&this.core.setAutoMaxVideoSize(e,t)},t.setAutoplay=function(e){this.checkCore()&&this.core.setAutoplay(e)},t.setAutoQualityMode=function(e){this.checkCore()&&this.core.setAutoQualityMode(e)},t.setAutoViewportSize=function(e,t){this.checkCore()&&this.core.setAutoViewportSize(e,t)},t.setClientId=function(e){this.checkCore()&&this.core.setClientId(e)},t.setDeviceId=function(e){this.checkCore()&&this.core.setDeviceId(e)},t.setExperiment=function(e,t){this.checkCore()&&this.core.setExperiment(e,t)},t.setExperimentData=function(e){this.core.setExperimentData(e)},t.setLiveLowLatencyEnabled=function(e){this.checkCore()&&this.core.setLiveLowLatencyEnabled(e)},t.setLiveMaxLatency=function(e){this.checkCore()&&this.core.setLiveMaxLatency(e)},t.setLiveSpeedUpRate=function(e){this.checkCore()&&this.core.setLiveSpeedUpRate(e)},t.setLogLevel=function(e){this.checkCore()&&this.core.setLogLevel(e)},t.setLooping=function(e){this.checkCore()&&this.core.setLooping(e)},t.setMuted=function(e){this.checkCore()&&this.core.setMuted(e)},t.setPlaybackRate=function(e){this.checkCore()&&this.core.setPlaybackRate(e)},t.setPlayerType=function(e){this.checkCore()&&this.core.setPlayerType(e)},t.setQuality=function(e,t){void 0===t&&(t=!1),this.checkCore()&&this.core.setQuality(e,t)},t.setRebufferToLive=function(e){this.checkCore()&&this.core.setRebufferToLive(e)},t.setVisible=function(e){this.checkCore()&&this.core.setVisible(e)},t.setVolume=function(e){this.checkCore()&&this.core.setVolume(e)},t.startRemotePlayback=function(){this.checkCore()&&this.core.startRemotePlayback()},t.setPlatformName=function(e){this.checkCore()&&this.core.setPlatformName(e)},t.checkCore=function(){return!!this.core||(console.warn("Method called on deleted player instance."),!1)},e}();r()(Pe,"isVP9Supported",ge.isVP9Supported)},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.ID3="MetaID3",e.CAPTION="MetaCaption"}(i||(i={}))},function(e,t,n){"use strict";(function(e){var i=n(28),r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:void 0;t.a=r.Promise||i.a}).call(this,n(17))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i=n(5);function r(){return"undefined"!=typeof MediaSource}function o(){if("Windows"!==i.a.osName||!i.a.chrome&&!i.a.firefox&&!i.a.msEdgeChromium)return Promise.resolve(!1);if(r()){if("mediaCapabilities"in navigator){return navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:'video/mp4;codecs="vp09.00.41.08"',width:1920,height:1080,bitrate:8e6,framerate:60}}).then((function(e){return e.supported&&e.smooth}))}return Promise.resolve(MediaSource.isTypeSupported('video/mp4;codecs="vp09.00.10.08"'))}return Promise.resolve(!1)}},function(e,t){},function(e,t,n){"use strict";var i,r;n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),function(e){e.GENERIC="Error",e.NOT_SUPPORTED="ErrorNotSupported",e.NO_SOURCE="ErrorNoSource",e.INVALID_DATA="ErrorInvalidData",e.INVALID_STATE="ErrorInvalidState",e.INVALID_PARAMETER="ErrorInvalidParameter",e.TIMEOUT="ErrorTimeout",e.NETWORK="ErrorNetwork",e.NETWORK_IO="ErrorNetworkIO",e.AUTHORIZATION="ErrorAuthorization",e.NOT_AVAILABLE="ErrorNotAvailable"}(i||(i={})),function(e){e[e.GEOBLOCKED=1]="GEOBLOCKED",e[e.UNSUPPORTED_DEVICE=2]="UNSUPPORTED_DEVICE",e[e.ANONYMIZER_BLOCKED=3]="ANONYMIZER_BLOCKED",e[e.CELLULAR_NETWORK_PROHIBITED=4]="CELLULAR_NETWORK_PROHIBITED",e[e.UNAUTHORIZATION_ENTITLEMENTS=5]="UNAUTHORIZATION_ENTITLEMENTS",e[e.VOD_RESTRICTED=6]="VOD_RESTRICTED"}(r||(r={}))},function(e,t,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function d(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function h(e,t,n,i){var r,o,s,a;if(c(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),(r=d(e))>0&&s.length>r&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,a=u,console&&console.warn&&console.warn(a)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=l.bind(i);return r.listener=n,i.wrapFn=r,r}function p(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):v(r,r.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return d(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=r[e];if(void 0===u)return!1;if("function"==typeof u)o(u,this,t);else{var c=u.length,d=v(u,c);for(n=0;n<c;++n)o(d[n],this,t)}return!0},a.prototype.addListener=function(e,t){return h(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return h(this,e,t,!0)},a.prototype.once=function(e,t){return c(t),this.on(e,f(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,f(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,i,r,o,s;if(c(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},a.prototype.listeners=function(e){return p(this,e,!0)},a.prototype.rawListeners=function(e){return p(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},a.prototype.listenerCount=m,a.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var i=n(2),r=n.n(i),o=n(0),s=n.n(o),a=n(5),u=function(){function t(e){var n=this;s()(this,"remotePlayer",void 0),s()(this,"remotePlayerController",void 0),s()(this,"listener",void 0),s()(this,"seekTime",void 0),s()(this,"currentDuration",void 0),this.listener=e,this.currentDuration=0,t.prepareCastContext().then((function(){n.remotePlayer=new cast.framework.RemotePlayer,n.remotePlayerController=new cast.framework.RemotePlayerController(n.remotePlayer)})).catch((function(){n.listener.onSessionError()}))}t.canCast=function(){return a.a.chrome},t.stopLookingForRemotePlaybackDevices=function(e){window.cast&&window.cast.framework&&cast.framework.CastContext.getInstance().removeEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,e)},t.lookForRemotePlaybackDevices=function(e){var n,i;return r.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,r.a.awrap(t.prepareCastContext());case 3:return n=o.sent,i=function(t){switch(t.castState){case cast.framework.CastState.NO_DEVICES_AVAILABLE:e.onRemoteDevice(!1);break;case cast.framework.CastState.NOT_CONNECTED:e.onRemoteDevice(!0);break;case cast.framework.CastState.CONNECTED:var i=n.getCurrentSession();i&&i.getSessionState()===cast.framework.SessionState.SESSION_RESUMED&&e.onRemoteReconnect()}},n.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,i),n.setOptions({receiverApplicationId:"B3DCF968",autoJoinPolicy:chrome.cast.AutoJoinPolicy.TAB_AND_ORIGIN_SCOPED}),o.abrupt("return",i);case 10:o.prev=10,o.t0=o.catch(0),e.onRemoteDevice(!1);case 13:case"end":return o.stop()}}),null,null,[[0,10]])},t.prepareCastContext=function(){return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.cast||!window.cast.framework){t.next=2;break}return t.abrupt("return",Promise.resolve(cast.framework.CastContext.getInstance()));case 2:return t.abrupt("return",new Promise((function(t,n){if(e.__onGCastApiAvailable=function(e,i){e?t(cast.framework.CastContext.getInstance()):n()},!document.getElementById("pc-chromecast-sender")){var i=document.createElement("script");i.id="pc-chromecast-sender",i.onerror=function(){document.body.removeChild(i),e.__onGCastApiAvailable=function(){},n()},i.async=!0,i.src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",document.body.appendChild(i)}})));case 3:case"end":return t.stop()}}))};var n=t.prototype;return n.configure=function(e){var n,i,o,s,a,u;return r.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return n=e.path,c.prev=1,c.next=4,r.a.awrap(t.prepareCastContext());case 4:if(i=c.sent,o=i.getCurrentSession()){c.next=13;break}return c.next=9,r.a.awrap(i.requestSession());case 9:o=i.getCurrentSession(),this.setupRemotePlayerListeners(o,this.remotePlayerController),c.next=14;break;case 13:o.getSessionState()===cast.framework.SessionState.SESSION_RESUMED&&this.setupRemotePlayerListeners(o,this.remotePlayerController);case 14:return(s=new chrome.cast.media.MediaInfo(n,"")).streamType=chrome.cast.media.StreamType.BUFFERED,a=new chrome.cast.media.GenericMediaMetadata,s.metadata=a,s.customData={analytics:{chromecast_sender:"player-core",platform:"web"}},this.remotePlayerController.stop(),u=new chrome.cast.media.LoadRequest(s),this.seekTime>0&&(u.currentTime=this.seekTime,this.seekTime=0),this.currentDuration=0,c.next=25,r.a.awrap(o.loadMedia(u));case 25:c.next=30;break;case 27:return c.prev=27,c.t0=c.catch(1),c.abrupt("return",this.handleError(c.t0));case 30:case"end":return c.stop()}}),null,this,[[1,27]])},n.stopMedia=function(e){var n,i;return r.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return void 0===e&&(e=!0),o.next=3,r.a.awrap(t.prepareCastContext());case 3:n=o.sent,(i=n.getCurrentSession())&&i.getSessionState()!==cast.framework.SessionState.SESSION_RESUMED&&i.endSession(e);case 6:case"end":return o.stop()}}))},n.enqueue=function(){},n.endOfStream=function(){},n.setTimestampOffset=function(){},n.onSourceDurationChanged=function(){},n.play=function(){this.remotePlayer&&this.remotePlayer.isPaused&&this.remotePlayerController.playOrPause()},n.pause=function(){this.remotePlayer&&!this.remotePlayer.isPaused&&this.remotePlayerController.playOrPause()},n.reinit=function(){},n.remove=function(){},n.seekTo=function(e){this.remotePlayer&&(this.remotePlayer.playerState!==chrome.cast.media.PlayerState.IDLE?(this.remotePlayer.currentTime=e,this.remotePlayerController.seek()):this.seekTime=e)},n.setPlaybackRate=function(e){},n.addCue=function(){},n.bufferDuration=function(){return 0},n.buffered=function(){return{start:0,end:0}},n.decodedFrames=function(){return 0},n.droppedFrames=function(){return 0},n.framerate=function(){return 0},n.getDisplayWidth=function(){return 0},n.getDisplayHeight=function(){return 0},n.getPlaybackRate=function(){return 0},n.getCurrentTime=function(){return this.remotePlayer?this.remotePlayer.currentTime:0},n.delete=function(){this.remotePlayer&&this.stopMedia()},n.setMuted=function(e){this.remotePlayer&&e!==this.remotePlayer.isMuted&&this.remotePlayerController.muteOrUnmute()},n.isMuted=function(){return!!this.remotePlayer&&this.remotePlayer.isMuted},n.setVolume=function(e){this.remotePlayer&&(this.remotePlayer.volumeLevel=e,this.remotePlayerController.setVolumeLevel())},n.getVolume=function(){return this.remotePlayer?this.remotePlayer.volumeLevel:0},n.captureGesture=function(){},n.getDevice=function(){var e,n;return r.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,r.a.awrap(t.prepareCastContext());case 2:if(e=i.sent,!(n=e.getCurrentSession())){i.next=6;break}return i.abrupt("return",n.getCastDevice().friendlyName);case 6:case"end":return i.stop()}}))},n.setupRemotePlayerListeners=function(e,t){var n=this,i=function(){var t,i;return r.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:(t=e.getMediaSession())&&(i=t.media,0===n.currentDuration&&null===i.duration&&(n.currentDuration=1/0,n.listener.onSinkDurationChanged(n.currentDuration)),n.listener.onSinkTimeUpdate());case 2:case"end":return r.stop()}}))},o=function(){switch(n.remotePlayer.playerState){case chrome.cast.media.PlayerState.BUFFERING:n.listener.onSinkIdle();break;case chrome.cast.media.PlayerState.PLAYING:n.listener.onSinkPlaying(!1);break;case chrome.cast.media.PlayerState.IDLE:var t=e.getMediaSession();t&&t.idleReason===chrome.cast.media.IdleReason.FINISHED&&n.listener.onSinkEnded()}},s=function(){n.listener.onSinkVolumeChanged(n.remotePlayer.volumeLevel,!0)},a=function(){n.listener.onSinkMutedChanged(n.remotePlayer.isMuted)},u=function(){0!==n.remotePlayer.duration&&(n.currentDuration=n.remotePlayer.duration,n.listener.onSinkDurationChanged(n.currentDuration))},c=function(){n.remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.CURRENT_TIME_CHANGED,i),n.remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED,o),n.remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.VOLUME_LEVEL_CHANGED,s),n.remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.IS_MUTED_CHANGED,a),n.remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.DURATION_CHANGED,u),n.listener.onSessionStop()};e.addEventListener(cast.framework.SessionEventType.MEDIA_SESSION,(function(){n.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.CURRENT_TIME_CHANGED,i),n.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED,o),n.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.VOLUME_LEVEL_CHANGED,s),n.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_MUTED_CHANGED,a),n.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.DURATION_CHANGED,u),n.listener.onSessionStarted(e.getCastDevice().friendlyName)}));var d=e.getSessionObj();d.addUpdateListener((function(){d.status===chrome.cast.SessionStatus.STOPPED&&c()})),d.addMediaListener(c)},n.handleError=function(e){if(chrome.cast)switch(e){case chrome.cast.ErrorCode.SESSION_ERROR:this.listener.onSessionError();break;case chrome.cast.ErrorCode.RECEIVER_UNAVAILABLE:this.listener.onRemoteDevice(!1);break;case chrome.cast.ErrorCode.LOAD_MEDIA_FAILED:this.listener.onLoadMediaError();break;case chrome.cast.ErrorCode.CANCEL:this.listener.onUserCancel();break;default:this.listener.onSinkError({value:1,code:0,message:"Error requesting chromecast session"})}else this.listener.onSinkError({value:1,code:0,message:"Error loading chromecast SDK"})},t}()}).call(this,n(17))},function(e,t){},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);var i=n(7);n.d(t,"createWorker",(function(){return i.d})),n.d(t,"canPlay",(function(){return i.b})),n.d(t,"isWasmSupported",(function(){return i.f})),n.d(t,"isPlayerSupported",(function(){return i.e})),n.d(t,"create",(function(){return i.c})),n.d(t,"MediaPlayer",(function(){return i.a}));var r=n(19);n.d(t,"ErrorSource",(function(){return r.a}));var o=n(12);n.d(t,"ErrorType",(function(){return o.b})),n.d(t,"AuthorizationError",(function(){return o.a}));var s=n(8);n.d(t,"MetadataEventType",(function(){return s.a}));var a=n(20);for(var u in a)["registerIVSTech","VideoJSEvents","VideoJSIVSTech","VideoJSError","registerIVSQualityPlugin","VideoJSQualityPlugin","isVP9Supported","createWorker","canPlay","isWasmSupported","isPlayerSupported","create","MediaPlayer","ErrorSource","ErrorType","AuthorizationError","MetadataEventType","default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(u);var c=n(1);n.d(t,"PlayerEventType",(function(){return c.a}));var d=n(3);n.d(t,"PlayerState",(function(){return d.a}));var h=n(21);for(var u in h)["registerIVSTech","VideoJSEvents","VideoJSIVSTech","VideoJSError","registerIVSQualityPlugin","VideoJSQualityPlugin","isVP9Supported","createWorker","canPlay","isWasmSupported","isPlayerSupported","create","MediaPlayer","ErrorSource","ErrorType","AuthorizationError","MetadataEventType","PlayerEventType","PlayerState","default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return h[e]}))}(u);var l=n(16);for(var u in l)["registerIVSTech","VideoJSEvents","VideoJSIVSTech","VideoJSError","registerIVSQualityPlugin","VideoJSQualityPlugin","isVP9Supported","createWorker","canPlay","isWasmSupported","isPlayerSupported","create","MediaPlayer","ErrorSource","ErrorType","AuthorizationError","MetadataEventType","PlayerEventType","PlayerState","default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return l[e]}))}(u);var f=n(22);for(var u in f)["registerIVSTech","VideoJSEvents","VideoJSIVSTech","VideoJSError","registerIVSQualityPlugin","VideoJSQualityPlugin","isVP9Supported","createWorker","canPlay","isWasmSupported","isPlayerSupported","create","MediaPlayer","ErrorSource","ErrorType","AuthorizationError","MetadataEventType","PlayerEventType","PlayerState","default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return f[e]}))}(u);var p=n(23);for(var u in p)["registerIVSTech","VideoJSEvents","VideoJSIVSTech","VideoJSError","registerIVSQualityPlugin","VideoJSQualityPlugin","isVP9Supported","createWorker","canPlay","isWasmSupported","isPlayerSupported","create","MediaPlayer","ErrorSource","ErrorType","AuthorizationError","MetadataEventType","PlayerEventType","PlayerState","default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return p[e]}))}(u);var m=n(26);n.d(t,"registerIVSTech",(function(){return m.a}));var v=n(11);n.d(t,"VideoJSEvents",(function(){return v.VideoJSEvents})),n.d(t,"VideoJSIVSTech",(function(){return v.VideoJSIVSTech})),n.d(t,"VideoJSError",(function(){return v.VideoJSError}));var g=n(24);n.d(t,"registerIVSQualityPlugin",(function(){return g.a}));var y=n(25);n.d(t,"VideoJSQualityPlugin",(function(){return y.VideoJSQualityPlugin}));var E=n(10);n.d(t,"isVP9Supported",(function(){return E.b}));var S=n(6);n.d(t,"RemotePlayerEvent",(function(){return S.a}))},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.UNKNOWN="Unspecified",e.FILE="File",e.SEGMENT="Segment",e.SOURCE="Source",e.DECODER="Decode",e.RENDERER="Render",e.MASTER_PLAYLIST="MasterPlaylist",e.MEDIA_PLAYLIST="MediaPlaylist"}(i||(i={}))},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(3),r=n(1);function o(e){if(void 0===e||"function"!=typeof e.getTech){throw{message:"videojs not available, Amazon IVS Quality Plugin not registered",code:1}}if(!e.getPlugin("enableIVSQualityPlugin")){var t=e.getComponent("MenuButton"),n=e.getComponent("MenuItem"),o=e.extend(n,{constructor:function(e,t){var i=t.quality;n.call(this,e,{selectable:!0,label:i.name}),this.quality=i},handleClick:function(e){n.prototype.handleClick.call(this,e);var t=this.player().getIVSPlayer();"auto"===this.quality.group?t.setAutoQualityMode(!0):t.setQuality(this.quality)}}),s=e.extend(t,{constructor:function(e){t.call(this,e,{}),this.controlText("Quality")},createItems:function(){var e=this.player(),t=e.getIVSPlayer(),n=[],i=new o(e,{quality:{group:"auto",name:"Auto"}});i.selected(t.isAutoQualityMode()),i.on("click",this._clickHandler.bind(this,i)),i.on("tap",this._clickHandler.bind(this,i)),n.push(i);var s=t.getQuality(),a=t.getQualities();a&&a.length>0&&a.forEach(function(i){var r=new o(e,{quality:i});r.on("click",this._clickHandler.bind(this,r)),r.on("tap",this._clickHandler.bind(this,r)),t.isAutoQualityMode()||r.selected(s.group===i.group),n.push(r)}.bind(this));var u=function(e){n.forEach((function(n){!t.isAutoQualityMode()&&e&&n&&n.quality&&n.selected(e.group===n.quality.group)}))};return t.addEventListener(r.a.QUALITY_CHANGED,u),this.on("dispose",(function(){t.removeEventListener(r.a.QUALITY_CHANGED,u)})),n},buildCSSClass:function(){return"vjs-icon-hd vjs-icon-placeholder "+t.prototype.buildCSSClass.call(this)},_clickHandler:function(e){this.items.forEach((function(t){t!==e&&t.selected(!1)}))}});e.registerComponent("QualityMenuButton",s),(e.registerPlugin||e.plugin)("enableIVSQualityPlugin",(function(){var e=this;e.getIVSPlayer().addEventListener(i.a.READY,(function(){var t=e.controlBar.getChild("QualityMenuButton");t&&(t.dispose(),e.controlBar.removeChild(t)),e.controlBar.addChild("QualityMenuButton")}))}))}}},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i,r,o,s=n(12),a=n(8),u=n(1),c=n(3),d=n(7);!function(e){e.DURATION_CHANGE="durationchange",e.ENDED="ended",e.ERROR="error",e.LOADED_METADATA="loadedmetadata",e.LOADSTART="loadstart",e.PAUSE="pause",e.PLAY="play",e.PLAYING="playing",e.RATE_CHANGE="ratechange",e.SEEKED="seeked",e.SEEKING="seeking",e.TIME_UPDATE="timeupdate",e.VOLUME_CHANGE="volumechange",e.WAITING="waiting"}(i||(i={})),function(e){e[e.HAVE_NOTHING=0]="HAVE_NOTHING",e[e.HAVE_METADATA=1]="HAVE_METADATA",e[e.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA",e[e.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA",e[e.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA"}(o||(o={}));var h=((r={})[c.a.IDLE]=1,r[c.a.READY]=1,r[c.a.BUFFERING]=2,r[c.a.PLAYING]=2,r[c.a.ENDED]=1,r);function l(e,t){if(void 0===e||"function"!=typeof e.getTech){throw{message:"videojs not available, AmazonIVS tech not registered",code:1}}if(!d.e){throw{message:"WebAssembly support is required for AmazonIVS tech",code:2}}if(!e.getTech("AmazonIVS")){var n=e.getTech("Tech"),r=e.extend(n,{constructor:function(e,i){this._readyState=o.HAVE_NOTHING,this._defaultPlaybackRate=1,this._mediaPlayer=Object(d.c)(t),this._mediaPlayer.setAutoplay(!0===e.autoplay),this._attachVideojsListeners(),this._mediaPlayer.addEventListener(u.a.METADATA,this._onCaptionEvent.bind(this)),this.featuresProgressEvents=!0,this.featuresTimeupdateEvents=!0,this.featuresPlaybackRate=!0,this.featuresFullscreenResize=!0,this.featuresVolumeControl=!0,this.featuresMuteControl=!0,this.featuresNativeTextTracks=!1,n.call(this,e,i),window.vttjs&&window.vttjs.restore(),this.triggerReady(),setTimeout(function(){this.options_.loop&&this._mediaPlayer.setLooping(!0),this.options_.muted&&this._mediaPlayer.setMuted(!0)}.bind(this),0)},dispose:function(){this._mediaPlayer.delete()},setPreload:function(){},autoplay:function(e){if("boolean"!=typeof e)return this._mediaPlayer.autoplay;this.setAutoplay(e)},setAutoplay:function(e){this._mediaPlayer.setAutoplay(e)},preload:function(){},load:function(){},readyState:function(){return this._readyState},networkState:function(){if(!this._mediaPlayer)return 0;if(!this._mediaPlayer.getHTMLVideoElement().src)return 3;var e=this._mediaPlayer.getState();return h[e]},ended:function(){return this._mediaPlayer.getState()===c.a.ENDED},seekable:function(){return e.createTimeRange(0,this._mediaPlayer.getDuration())},play:function(){this._mediaPlayer.play(),this.trigger(i.PLAY)},pause:function(){this._mediaPlayer.pause()},setCurrentTime:function(e){this._mediaPlayer.getHTMLVideoElement().src&&(this._mediaPlayer.seekTo(e),this.trigger(i.SEEKING))},controls:function(){return!1},setControls:function(){return!1},muted:function(){return this._mediaPlayer.isMuted()},setMuted:function(e){this._mediaPlayer.setMuted(e)},volume:function(){return this._mediaPlayer.getVolume()},setVolume:function(e){this._mediaPlayer.setVolume(e)},defaultPlaybackRate:function(e){if(!e)return this._defaultPlaybackRate;this._defaultPlaybackRate=e},playbackRate:function(){return this._mediaPlayer.getPlaybackRate()},setPlaybackRate:function(e){this._mediaPlayer.setPlaybackRate(e)},paused:function(){return this._mediaPlayer.isPaused()},duration:function(){return this._mediaPlayer.getDuration()},currentTime:function(){return this._mediaPlayer.getPosition()},createEl:function(){var e=this._mediaPlayer.getHTMLVideoElement();e.setAttribute("class","vjs-tech"),["preload","poster"].forEach(function(t){this.options_[t]&&e.setAttribute(t,this.options_[t])}.bind(this)),this.options_.playsinline&&(e.setAttribute("webkit-playsinline",""),e.setAttribute("playsinline",""));var t=document.createElement("div");return t.appendChild(e),t},src:function(e){this.trigger(i.LOADSTART),this._captionTrack&&(this.textTracks().removeTrack(this._captionTrack),this._captionTrack=null),e&&this._mediaPlayer.load(e)},addEventListener:function(e,t){this._mediaPlayer.addEventListener(e,t)},removeEventListener:function(e,t){this._mediaPlayer.removeEventListener(e,t)},getMediaPlayerAPI:function(){return this._mediaPlayer},supportsFullScreen:function(){return!0},enterFullScreen:function(){var e=this._mediaPlayer.getHTMLVideoElement();(e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen||e.webkitEnterFullscreen||function(){console.error("Fullscreen API is not available")}).call(e)},exitFullScreen:function(){(document.exitFullScreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen||function(){console.error("Exitscreen API is not available")}).call(document)},_onCaptionEvent:function(e){if("text/json"===e.type){var t=JSON.parse(e.data);if(t.caption){var n=t.caption;this._captionTrack||(this._captionTrack=this.addTextTrack("captions",n.format),this._currentCue=null),this._currentCue&&this._captionTrack.removeCue(this._currentCue);var i=this._mediaPlayer.getHTMLVideoElement(),r=window.VTTCue||window.vttjs.VTTCue;r?(this._currentCue=new r(i.currentTime,i.currentTime+2,n.text),this._captionTrack.addCue(this._currentCue)):console.warn("No VTTCue implementation available, caption may not be available")}}},_attachVideojsListeners:function(){this._mediaPlayer.addEventListener(c.a.READY,function(){this._readyState=o.HAVE_METADATA,this.trigger(i.LOADED_METADATA)}.bind(this)),this._mediaPlayer.addEventListener(c.a.IDLE,function(){this._readyState=o.HAVE_NOTHING,this.trigger(i.PAUSE)}.bind(this)),this._mediaPlayer.addEventListener(c.a.PLAYING,function(){this._readyState<=o.HAVE_CURRENT_DATA&&(this._readyState=o.HAVE_FUTURE_DATA),this.trigger(i.PLAY),this.trigger(i.PLAYING)}.bind(this)),this._mediaPlayer.addEventListener(c.a.ENDED,function(){this._readyState=o.HAVE_NOTHING,this.trigger(i.ENDED)}.bind(this)),this._mediaPlayer.addEventListener(c.a.BUFFERING,function(){this._readyState=o.HAVE_CURRENT_DATA}.bind(this)),this._mediaPlayer.addEventListener(u.a.REBUFFERING,function(){this._readyState=o.HAVE_CURRENT_DATA,this.trigger(i.WAITING)}.bind(this)),this._mediaPlayer.addEventListener(u.a.TIME_UPDATE,function(){this.trigger(i.TIME_UPDATE)}.bind(this)),this._mediaPlayer.addEventListener(u.a.VOLUME_CHANGED,function(){this.trigger(i.VOLUME_CHANGE)}.bind(this)),this._mediaPlayer.addEventListener(u.a.MUTED_CHANGED,function(){this.trigger(i.VOLUME_CHANGE)}.bind(this)),this._mediaPlayer.addEventListener(u.a.ERROR,function(){this.trigger(i.ERROR)}.bind(this)),this._mediaPlayer.addEventListener(u.a.DURATION_CHANGED,function(){this.trigger(i.DURATION_CHANGE)}.bind(this)),this._mediaPlayer.addEventListener(u.a.SEEK_COMPLETED,function(){this.trigger(i.SEEKED)}.bind(this)),this._mediaPlayer.addEventListener(u.a.PLAYBACK_RATE_CHANGED,function(){this.trigger(i.RATE_CHANGE)}.bind(this))},techName:"AmazonIVS"});r.supportsFullScreen=function(){return!0},r.isSupported=function(){return-1===(navigator.appVersion||"").toLowerCase().indexOf("rv:11")},r.canPlayType=function(e){return"string"==typeof e&&e.length>0&&(e.indexOf("application/x-mpegURL")>-1?"undefined"!=typeof MediaSource&&MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'):""!==document.createElement("video").canPlayType(e))},r.canPlaySource=function(){return!0},e.registerTech("AmazonIVS",r);var l=e.registerPlugin||e.plugin;l("getIVSEvents",(function(){return{PlayerEventType:u.a,MetadataEventType:a.a,PlayerState:c.a,ErrorType:s.b}})),l("getIVSPlayer",(function(){return this.tech(!0).getMediaPlayerAPI()}))}}},function(e,t,n){e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=n(18),r=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,i){void 0===i&&(i=!1);var r=e.getVersionPrecision(t),o=e.getVersionPrecision(n),s=Math.max(r,o),a=0,u=e.map([t,n],(function(t){var n=s-e.getVersionPrecision(t),i=t+new Array(n+1).join(".0");return e.map(i.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(i&&(a=s-Math.min(r,o)),s-=1;s>=a;){if(u[0][s]>u[1][s])return 1;if(u[0][s]===u[1][s]){if(s===a)return 0;s-=1}else if(u[0][s]<u[1][s])return-1}},e.map=function(e,t){var n,i=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)i.push(t(e[n]));return i},e.find=function(e,t){var n,i;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,i=e.length;n<i;n+=1){var r=e[n];if(t(r,n))return r}},e.assign=function(e){for(var t,n,i=e,r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var a=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){i[t]=e[t]}))};for(t=0,n=o.length;t<n;t+=1)a();return e},e.getBrowserAlias=function(e){return i.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return i.BROWSER_MAP[e]||""},e}();t.default=r,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i,r=(i=n(91))&&i.__esModule?i:{default:i},o=n(18);function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function e(){}var t,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new r.default(e,t)},e.parse=function(e){return new r.default(e).getResult()},t=e,(n=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}])&&s(t,n),e}();t.default=a,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=u(n(92)),r=u(n(93)),o=u(n(94)),s=u(n(95)),a=u(n(17));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=a.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=a.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find(s.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return a.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},i=0,r={},o=0;if(Object.keys(e).forEach((function(t){var s=e[t];"string"==typeof s?(r[t]=s,o+=1):"object"==typeof s&&(n[t]=s,i+=1)})),i>0){var s=Object.keys(n),u=a.default.find(s,(function(e){return t.isOS(e)}));if(u){var c=this.satisfies(n[u]);if(void 0!==c)return c}var d=a.default.find(s,(function(e){return t.isPlatform(e)}));if(d){var h=this.satisfies(n[d]);if(void 0!==h)return h}}if(o>0){var l=Object.keys(r),f=a.default.find(l,(function(e){return t.isBrowser(e,!0)}));if(void 0!==f)return this.compareVersion(r[f])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),i=e.toLowerCase(),r=a.default.getBrowserTypeByAlias(i);return t&&r&&(i=r.toLowerCase()),i===n},t.compareVersion=function(e){var t=[0],n=e,i=!1,r=this.getBrowserVersion();if("string"==typeof r)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(i=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(i=!0,n=e.substr(1)),t.indexOf(a.default.compareVersions(r,n,i))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e){return this.isBrowser(e)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=c,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i,r=(i=n(17))&&i.__esModule?i:{default:i},o=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=r.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=r.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=r.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=r.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=r.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=r.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=r.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=r.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=r.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=r.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=r.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=r.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=r.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=r.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=r.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=r.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=r.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=r.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=r.default.getFirstMatch(o,e)||r.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=r.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=r.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=r.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=r.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=r.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=r.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=r.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=r.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=r.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:r.default.getFirstMatch(t,e),version:r.default.getSecondMatch(t,e)}}}];t.default=s,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i,r=(i=n(17))&&i.__esModule?i:{default:i},o=n(18),s=[{test:[/Roku\/DVP/],describe:function(e){var t=r.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=r.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=r.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=r.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},n=r.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=r.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=r.default.getMacOSVersionName(t),i={name:o.OS_MAP.MacOS,version:t};return n&&(i.versionName=n),i}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=r.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=r.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=r.default.getAndroidVersionName(t),i={name:o.OS_MAP.Android,version:t};return n&&(i.versionName=n),i}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=r.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=r.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||r.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||r.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=r.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=r.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=r.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=s,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i,r=(i=n(17))&&i.__esModule?i:{default:i},o=n(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=r.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=r.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=s,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i,r=(i=n(17))&&i.__esModule?i:{default:i},o=n(18),s=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=r.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=r.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=r.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=r.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=r.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=s,e.exports=t.default}})},function(e,t,n){"use strict";var i=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))},r=setTimeout;function o(e){return Boolean(e&&void 0!==e.length)}function s(){}function a(e){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function u(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,a._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(e){return void d(t.promise,e)}c(t.promise,i)}else(1===e._state?c:d)(t.promise,e._value)}))):e._deferreds.push(t)}function c(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof a)return e._state=3,e._value=t,void h(e);if("function"==typeof n)return void f((i=n,r=t,function(){i.apply(r,arguments)}),e)}e._state=1,e._value=t,h(e)}catch(t){d(e,t)}var i,r}function d(e,t){e._state=2,e._value=t,h(e)}function h(e){2===e._state&&0===e._deferreds.length&&a._immediateFn((function(){e._handled||a._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)u(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e((function(e){n||(n=!0,c(t,e))}),(function(e){n||(n=!0,d(t,e))}))}catch(e){if(n)return;n=!0,d(t,e)}}a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new this.constructor(s);return u(this,new l(e,t,n)),n},a.prototype.finally=i,a.all=function(e){return new a((function(t,n){if(!o(e))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var r=i.length;function s(e,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var a=o.then;if("function"==typeof a)return void a.call(o,(function(t){s(e,t)}),n)}i[e]=o,0==--r&&t(i)}catch(e){n(e)}}for(var a=0;a<i.length;a++)s(a,i[a])}))},a.resolve=function(e){return e&&"object"==typeof e&&e.constructor===a?e:new a((function(t){t(e)}))},a.reject=function(e){return new a((function(t,n){n(e)}))},a.race=function(e){return new a((function(t,n){if(!o(e))return n(new TypeError("Promise.race accepts an array"));for(var i=0,r=e.length;i<r;i++)a.resolve(e[i]).then(t,n)}))},a._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){r(e,0)},a._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};t.a=a},,function(e,t,n){e.exports=n(31)},function(e,t,n){"use strict";n.r(t),n.d(t,"create",(function(){return d}));var i=n(7),r=n(18);for(var o in r)["create","default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var s,a,u,c=document.currentScript||function(e){var t=[].slice.call(e),n=Array.isArray(t),i=0;for(t=n?t:t[Symbol.iterator]();;){var r;if(n){if(i>=t.length)break;r=t[i++]}else{if((i=t.next()).done)break;r=i.value}var o=r;if(o.src.indexOf("amazon-ivs-player.min.js")>-1)return o}}(document.scripts);try{s=c.src.replace(/[\w-\.]+\.js$/g,"amazon-ivs-wasmworker.min.js"),a=c.src.replace(/[\w-\.]+\.js$/g,"amazon-ivs-worker.min.js"),u=c.src.replace(/[\w-\.]+\.js$/g,"amazon-ivs-wasmworker.min.wasm")}catch(e){throw console.error(e),new Error("Error reading currentScript, expected to be included as script tag")}function d(e){var t=Object.assign({},{asmWorker:a,wasmWorker:s,wasmBinary:u},e);return Object(i.c)(t)}},function(e,t,n){var i=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function a(e,t,n,i){var r=t&&t.prototype instanceof d?t:d,o=Object.create(r.prototype),s=new k(i||[]);return o._invoke=function(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return P()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=E(s,n);if(a){if(a===c)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var d=u(e,t,n);if("normal"===d.type){if(i=n.done?"completed":"suspendedYield",d.arg===c)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(i="completed",n.method="throw",n.arg=d.arg)}}}(e,n,s),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=a;var c={};function d(){}function h(){}function l(){}var f={};f[r]=function(){return this};var p=Object.getPrototypeOf,m=p&&p(p(M([])));m&&m!==t&&n.call(m,r)&&(f=m);var v=l.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function y(e,t){var i;this._invoke=function(r,o){function s(){return new t((function(i,s){!function i(r,o,s,a){var c=u(e[r],e,o);if("throw"!==c.type){var d=c.arg,h=d.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,s,a)}),(function(e){i("throw",e,s,a)})):t.resolve(h).then((function(e){d.value=e,s(d)}),(function(e){return i("throw",e,s,a)}))}a(c.arg)}(r,o,i,s)}))}return i=i?i.then(s,s):s()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var i=u(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,c;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function M(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=v.constructor=l,l.constructor=h,l[s]=h.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(y.prototype),y.prototype[o]=function(){return this},e.AsyncIterator=y,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var s=new y(a(t,n,i,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},g(v),v[s]="Generator",v[r]=function(){return this},v.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=M,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),b(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;b(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:M(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=i}catch(e){Function("r","regeneratorRuntime = r")(i)}}]);